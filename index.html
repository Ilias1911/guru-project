<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The G Thing</title>
    <link rel="icon" href="https://placehold.co/32x32/007bff/ffffff?text=G" type="image/x-icon" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        /* CSS Variables for easier theme and font management */
        :root {
    /* General Colors - Neutral & Professional */
    --bg-color-main-light: transparent;
    --bg-color-main-dark: #202020;
    
    --card-bg-light: rgba(255, 255, 255, 0.85);
    --card-bg-dark: #2c2c2c;

    --text-color-light: #333333;
    --text-color-dark: #e0e0e0;
    --text-secondary-light: #666666;
    --text-secondary-dark: #bbbbbb;

    /* --- NEW WOLT BRAND COLORS --- */
    --primary-blue: #009DE0; /* Official Wolt Blue */
    --primary-blue-darker: #007BA5; /* Darker shade for hover */
    --primary-blue-lighter: #66c8ed; /* Lighter shade for dark mode */

    /* New colors for glassmorphism */
    --glass-button-bg-light: rgba(173, 216, 230, 0.6);
    --glass-button-border-light: rgba(255, 255, 255, 0.4);
    --glass-button-shadow-light: 0 4px 10px rgba(0, 0, 0, 0.1);
    --glass-button-hover-bg-light: rgba(173, 216, 230, 0.8);

    --glass-button-bg-dark: rgba(0, 157, 224, 0.25); /* Based on Wolt Blue */
    --glass-button-border-dark: rgba(0, 157, 224, 0.4);
    --glass-button-shadow-dark: 0 4px 10px rgba(0, 0, 0, 0.3);
    --glass-button-hover-bg-dark: rgba(0, 157, 224, 0.4);

    --border-color-light: #d0d0d0;
    --border-color-dark: #444444;

    --input-bg-light: rgba(248, 248, 248, 0.9);
    --input-bg-dark: #3a3a3a;
    --input-border-light: #b0b0b0;
    --input-border-dark: #555555;
    --input-placeholder-light: #888888;
    --input-placeholder-dark: #888888;

    /* Spacing & Radii */
    --base-font-size: 16px;
    --padding-xl: 40px;
    --padding-lg: 30px;
    --padding-md: 20px;
    --padding-sm: 15px;
    --gap-lg: 25px;
    --gap-md: 15px;
    --border-radius-xl: 12px;
    --border-radius-lg: 8px;
    --border-radius-md: 6px;
    --border-radius-sm: 4px;

    /* Shadows */
    --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.08);
    --shadow-dark: 0 4px 15px rgba(0, 0, 0, 0.3);
    --inner-shadow-light: inset 0 1px 3px rgba(0,0,0,0.05);
    --inner-shadow-dark: inset 0 1px 3px rgba(0,0,0,0.15);
}

        body {
            font-family: 'Inter', sans-serif;
            padding: var(--padding-md);
            background-color: var(--bg-color-main-light);
            color: var(--text-color-light);
            transition: background-color 0.3s ease, color 0.3s ease;
            font-size: var(--base-font-size);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;

            /* New background image styles */
            background-image: url('https://freight.cargo.site/t/original/i/be92a8fa4cb16a730f10724e1287f47e4d57cde250438b674f48b420f615df0c/Purim-yuhos.png');
            background-size: cover; /* Cover the entire background */
            background-repeat: no-repeat;
            background-position: center center;
            background-attachment: fixed; /* Keep background fixed when scrolling */
        }

        /* Dark Mode */
        body.dark-mode {
            background-color: var(--bg-color-main-dark);
            color: var(--text-color-dark);
            background-image: none; /* Remove background image in dark mode */
        }

        /* High Contrast Mode */
        body.high-contrast {
            background: Canvas !important; /* System color for background */
            color: CanvasText !important; /* System color for text */
            background-image: none !important; /* Ensure no background image in high contrast */
        }
        body.high-contrast * {
            box-shadow: none !important;
            text-shadow: none !important;
        }
        body.high-contrast .container,
        body.high-contrast .tab-content,
        body.high-contrast .box,
        body.high-contrast .app-header-section,
        body.high-contrast .controls-group,
        body.high-contrast .modal-content,
        body.high-contrast .break-modal-content {
            background-color: Canvas !important;
            color: CanvasText !important;
            border: 1px solid CanvasText !important;
        }
        body.high-contrast h1, h2, h3,
        body.high-contrast .tab-button,
        body.high-contrast .tab-button.active,
        body.high-contrast .box h3,
        body.high-contrast .map-section h3,
        body.high-contrast #distanceOutput,
        body.high-contrast .box ul li a,
        body.high-contrast .break-reminder-display {
            color: CanvasText !important;
        }
        body.high-contrast button,
        body.high-contrast .gemini-link-button {
            background-color: ButtonFace !important;
            color: ButtonText !important;
            border: 1px solid ButtonText !important;
            background-image: none !important;
        }
        body.high-contrast button:hover,
        body.high-contrast .gemini-link-button:hover {
            background-color: Highlight !important; /* System highlight color */
            color: HighlightText !important;
        }
        body.high-contrast .controls input[type="text"],
        body.high-contrast textarea,
        body.high-contrast .leaflet-control-geocoder,
        body.high-contrast .leaflet-control-geocoder .leaflet-control-geocoder-form input,
        body.high-contrast .leaflet-control-geocoder .leaflet-control-geocoder-results,
        body.high-contrast .quick-notes-area textarea,
        body.high-contrast .break-reminder-controls input[type="time"] {
            background-color: Field !important; /* System field background */
            color: FieldText !important; /* System field text */
            border: 1px solid ButtonText !important;
        }
        body.high-contrast .leaflet-control-geocoder .leaflet-control-geocoder-results a:hover {
            background-color: Highlight !important;
            color: HighlightText !important;
        }
        body.high-contrast .toggle-dark-mode,
        body.high-contrast .help-icon {
            background-color: ButtonFace !important;
            color: ButtonText !important;
        }
        body.high-contrast .help-icon::after {
            background: ButtonFace !important;
            color: ButtonText !important;
        }
        body.high-contrast .break-modal-close {
            color: ButtonText !important;
        }
        body.high-contrast .break-modal-close:hover {
            color: HighlightText !important;
        }
        body.high-contrast .no-content-message {
            color: CanvasText !important;
        }
        body.high-contrast .separator {
            border-color: CanvasText !important;
        }
        body.high-contrast button:focus-visible,
        body.high-contrast a:focus-visible,
        body.high-contrast input:focus-visible,
        body.high-contrast textarea:focus-visible {
            outline: 2px solid Highlight !important;
            outline-offset: 2px;
        }


        /* Global Utility Buttons (Always Visible) */
        .global-buttons {
            position: fixed;
            top: var(--padding-md);
            left: var(--padding-md);
            right: var(--padding-md);
            display: flex;
            justify-content: space-between;
            z-index: 100; /* Ensure they are above other content */
            gap: var(--padding-sm);
        }
        .global-buttons .left-group,
        .global-buttons .right-group {
            display: flex;
            gap: var(--padding-sm);
        }

        .global-buttons button {
            background-color: rgba(255, 255, 255, 0.1); /* Subtle transparent background */
            color: var(--text-color-dark);
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 10px 15px;
            border-radius: var(--border-radius-md);
            cursor: pointer;
            font-size: 1.1em;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.2s ease-in-out;
            min-width: 45px; /* Ensure minimum size */
            height: 45px; /* Ensure minimum size */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .global-buttons button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            transform: translateY(-1px);
        }
        .global-buttons button:active {
            transform: translateY(0);
            box-shadow: 0 1px 4px rgba(0,0,0,0.1);
        }
        .dark-mode .global-buttons button {
            background-color: rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.1);
        }
        .dark-mode .global-buttons button:hover {
            background-color: rgba(0, 0, 0, 0.3);
        }
        /* Buttons (General) - Modern Glassmorphism Style */
button, .gemini-link-button {
    background: var(--glass-button-bg-light);
    color: var(--text-color-light); /* Default text color for light mode */
    padding: 12px 25px;
    font-size: 1em;
    font-weight: 600;
    border: 1px solid var(--glass-button-border-light);
    border-radius: var(--border-radius-md);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    box-shadow: var(--glass-button-shadow-light);
    backdrop-filter: blur(5px); /* Glassmorphism effect */
    -webkit-backdrop-filter: blur(5px); /* Safari support */

    /* Βελτιώσεις για συνεπές μέγεθος και συμπεριφορά */
    display: inline-block; /* Επιστροφή σε inline-block για προβλέψιμο μέγεθος */
    box-sizing: border-box; /* Συμπερίληψη padding και border στο συνολικό πλάτος/ύψος */
    height: 48px; /* Καθορισμένο ύψος με βάση το padding και το εκτιμώμενο line-height για font 1em */
    line-height: 24px; /* Προσαρμογή του line-height για κάθετη στοίχιση του κειμένου 1em εντός ύψους 48px */
    text-decoration: none; /* Αφαίρεση υπογράμμισης για τα a tags */
    text-align: center; /* Κεντράρισμα κειμένου οριζόντια */
    vertical-align: middle; /* Κάθετη στοίχιση με άλλα inline-block στοιχεία */
    white-space: nowrap; /* Αποτροπή αναδίπλωσης κειμένου */
    overflow: hidden; /* Απόκρυψη υπερχείλισης κειμένου */
    text-overflow: ellipsis; /* Εμφάνιση αποσιωπητικών για υπερχειλίζον κείμενο */
}


        /* App Header Section */
        .app-header-section {
            background-color: var(--card-bg-light);
            border-radius: var(--border-radius-xl);
            padding: var(--padding-lg) var(--padding-xl);
            margin-top: calc(var(--padding-lg) + 45px); /* Space for global buttons */
            margin-bottom: var(--gap-lg);
            max-width: 900px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-color-light);
            text-align: center;
            transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
            width: 100%;
            box-sizing: border-box;
        }
        .dark-mode .app-header-section {
            background-color: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: var(--shadow-dark);
        }
        .app-header-section h1 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--text-color-light);
            font-weight: 700;
            font-size: 2.5em;
            letter-spacing: -0.02em;
        }
        .dark-mode .app-header-section h1 {
            color: var(--text-color-dark);
        }
        .app-header-section h2 {
            margin-top: 0;
            margin-bottom: 0;
            font-size: 1.2em;
            color: var(--text-secondary-light); /* Default color for light mode */
            font-weight: 400;
            line-height: 1.4;
        }
        .dark-mode .app-header-section h2 {
            color: var(--text-color-dark); /* White for dark mode */
        }
        .guru-icon {
            height: 40px;
            width: auto;
            vertical-align: middle;
            border-radius: var(--border-radius-sm);
            margin: 0 8px;
        }

        /* Main Content Container with Tabs */
        .main-content-container {
            background-color: var(--card-bg-light);
            border-radius: var(--border-radius-xl);
            padding: var(--padding-lg);
            margin-bottom: var(--padding-lg);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-color-light);
            transition: background-color 0.3s, color 0.3s, box-shadow 0.3s, border-color 0.3s;
            width: 100%;
            box-sizing: border-box;
        }
        .dark-mode .main-content-container {
            background-color: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: var(--shadow-dark);
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            justify-content: space-around;
            margin-bottom: var(--padding-md);
            border-bottom: 1px solid var(--border-color-light);
            padding-bottom: var(--padding-sm);
            gap: var(--gap-md); /* Space between tabs */
            flex-wrap: wrap; /* Allow tabs to wrap on smaller screens */
        }
        .dark-mode .tab-nav {
            border-color: var(--border-color-dark);
        }

        .tab-button {
            background-color: transparent;
            color: var(--text-secondary-light);
            border: none;
            padding: 10px var(--padding-md);
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            border-radius: var(--border-radius-sm);
            transition: all 0.2s ease-in-out;
            flex-grow: 1; /* Allow buttons to grow and fill space */
            text-align: center;
            min-width: 120px; /* Minimum width for tabs */
        }
        .dark-mode .tab-button {
            color: var(--text-secondary-dark);
        }

        .tab-button:hover {
            background-color: rgba(0, 123, 255, 0.1);
            color: var(--primary-blue);
        }
        .dark-mode .tab-button:hover {
            background-color: rgba(144, 202, 249, 0.1);
            color: var(--primary-blue-lighter);
        }

        .tab-button.active {
            background-color: var(--primary-blue);
            color: white;
            box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);
            font-weight: 600;
            transform: translateY(-2px);
        }
        .dark-mode .tab-button.active {
            background-color: var(--primary-blue-lighter);
            color: var(--text-color-dark);
            box-shadow: 0 2px 8px rgba(144, 202, 249, 0.3);
        }
        .tab-button.active:hover { /* Keep active state strong on hover */
            background-color: var(--primary-blue-darker);
            color: white;
        }
        .dark-mode .tab-button.active:hover {
            background-color: var(--primary-blue);
        }


        /* Tab Content */
        .tab-content {
            display: none; /* Hidden by default */
            padding-top: var(--padding-md);
            animation: fadeIn 0.5s ease-out;
        }
        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Box styles within tabs */
        .tab-content .box-container {
            flex-direction: column; /* Stack boxes vertically within a tab */
            gap: var(--gap-md); /* Smaller gap for vertical stacking */
            margin-bottom: 0; /* Remove bottom margin from box-container */
        }
        .tab-content .box {
            flex-basis: 100%; /* Full width within its tab */
            max-width: none; /* Remove max-width */
            margin-bottom: 0; /* No margin between stacked boxes */
            padding: var(--padding-md); /* Consistent padding */
            border-radius: var(--border-radius-lg); /* Consistent rounded corners */
        }
        .tab-content .box:not(:last-child) {
             margin-bottom: var(--gap-md); /* Add margin between boxes */
        }

        /* Input and Button Consistency (Re-applying general styles) */
        input[type="text"],
        textarea,
        input[type="number"],
        input[type="time"] {
            width: 100%;
            padding: var(--padding-sm);
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--input-border-light);
            background-color: var(--input-bg-light);
            color: var(--text-color-light);
            font-size: 1em;
            box-sizing: border-box;
            box-shadow: var(--inner-shadow-light);
            transition: all 0.2s ease;
        }
        input[type="text"]::placeholder,
        textarea::placeholder,
        input[type="number"]::placeholder,
        input[type="time"]::placeholder {
            color: var(--input-placeholder-light);
        }
        input[type="text"]:focus,
        textarea:focus,
        input[type="number"]:focus,
        input[type="time"]:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
        }
        body.dark-mode input[type="text"],
        body.dark-mode textarea,
        body.dark-mode input[type="number"],
        body.dark-mode input[type="time"] {
            background-color: var(--input-bg-dark);
            color: var(--text-color-dark);
            border-color: var(--input-border-dark);
            box-shadow: var(--inner-shadow-dark);
        }
        body.dark-mode input[type="text"]::placeholder,
        body.dark-mode textarea::placeholder,
        body.dark-mode input[type="number"]::placeholder,
        body.dark-mode input[type="time"]::placeholder {
            color: var(--input-placeholder-dark);
        }

        /* Specific adjustments for textarea and time input */
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        input[type="time"] {
            min-height: auto;
            height: 40px;
            text-align: center;
        }

        /* Buttons (General) - Modern Glassmorphism Style */
        button, .gemini-link-button {
            background: var(--glass-button-bg-light);
            color: var(--text-color-light); /* Default text color for light mode */
            padding: 12px 25px;
            font-size: 1em;
            font-weight: 600;
            border: 1px solid var(--glass-button-border-light);
            border-radius: var(--border-radius-md);
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: var(--glass-button-shadow-light);
            backdrop-filter: blur(5px); /* Glassmorphism effect */
            -webkit-backdrop-filter: blur(5px); /* Safari support */
        }
        button:hover, .gemini-link-button:hover {
            background: var(--glass-button-hover-bg-light);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        button:active, .gemini-link-button:active {
            transform: translateY(0);
            box-shadow: 0 1px 5px rgba(0,0,0,0.1);
        }

        /* Dark Mode Button Styles */
        .dark-mode button, .dark-mode .gemini-link-button {
            background: var(--glass-button-bg-dark); /* Glass effect in dark mode */
            color: white !important; /* All characters white in dark mode */
            border: 1px solid var(--glass-button-border-dark); /* Border for dark mode glass */
            box-shadow: var(--glass-button-shadow-dark);
        }
        .dark-mode button:hover, .dark-mode .gemini-link-button:hover {
            background: var(--glass-button-hover-bg-dark); /* Lighter dark blue on hover */
            box-shadow: 0 6px 18px rgba(0,0,0,0.45);
        }


        /* Override for specific buttons that shouldn't have glass/shadow in global context */
        .global-buttons button,
        .toggle-dark-mode,
        .help-icon {
            background-image: none !important;
            box-shadow: none !important;
            transform: none !important;
            backdrop-filter: none !important; /* Remove backdrop-filter for global buttons */
            -webkit-backdrop-filter: none !important;
            background: rgba(255, 255, 255, 0.2) !important; /* Keep global buttons subtle */
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            color: white !important; /* Ensure global button text is white */
        }
        .global-buttons button:hover,
        .toggle-dark-mode:hover,
        .help-icon:hover {
            transform: none !important;
            box-shadow: none !important;
            background: rgba(255, 255, 255, 0.3) !important;
        }
        .dark-mode .global-buttons button,
        .dark-mode .toggle-dark-mode,
        .dark-mode .help-icon {
            background: rgba(0, 0, 0, 0.3) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
        }
        .dark-mode .global-buttons button:hover,
        .dark-mode .toggle-dark-mode:hover,
        .dark-mode .help-icon:hover {
            background: rgba(0, 0, 0, 0.4) !important;
        }


        /* Collapsible content styles */
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .collapsible-content.show {
            max-height: 1000px; /* Large enough to accommodate content */
            padding-top: var(--padding-md);
            padding-bottom: var(--padding-md);
            transition: max-height 0.5s ease-in, padding 0.3s ease-in;
        }
        .box h3 {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0;
            margin-bottom: 0;
            padding-bottom: var(--padding-sm); /* Add padding for visual separation from content */
            border-bottom: 1px solid var(--border-color-light); /* Separator */
        }
        .dark-mode .box h3 {
            border-color: var(--border-color-dark);
        }
        .box h3:hover {
            color: var(--primary-blue);
        }
        .dark-mode .box h3:hover {
            color: var(--primary-blue-lighter);
        }
        .toggle-icon {
            transition: transform 0.3s ease;
        }
        .toggle-icon.rotated {
            transform: rotate(90deg);
        }

        /* Make long link lists scrollable */
        #cs-cases-content ul,
        #venue-cases-content ul,
        #cp-cases-content ul {
            max-height: 400px; /* Adjust this value as needed */
            overflow-y: auto;
            padding-right: 15px; /* Add some space for the scrollbar */
        }

        /* Custom scrollbar styling for webkit browsers */
        #cs-cases-content ul::-webkit-scrollbar,
        #venue-cases-content ul::-webkit-scrollbar,
        #cp-cases-content ul::-webkit-scrollbar {
            width: 8px;
        }

        #cs-cases-content ul::-webkit-scrollbar-track,
        #venue-cases-content ul::-webkit-scrollbar-track,
        #cp-cases-content ul::-webkit-scrollbar-track {
            background: transparent;
        }

        #cs-cases-content ul::-webkit-scrollbar-thumb,
        #venue-cases-content ul::-webkit-scrollbar-thumb,
        #cp-cases-content ul::-webkit-scrollbar-thumb {
            background-color: var(--border-color-light);
            border-radius: 10px;
            border: 2px solid transparent;
            background-clip: content-box;
        }

        .dark-mode #cs-cases-content ul::-webkit-scrollbar-thumb,
        .dark-mode #venue-cases-content ul::-webkit-scrollbar-thumb,
        .dark-mode #cp-cases-content ul::-webkit-scrollbar-thumb {
            background-color: var(--border-color-dark);
        }

        #cs-cases-content ul::-webkit-scrollbar-thumb:hover,
        #venue-cases-content ul::-webkit-scrollbar-thumb:hover,
        #cp-cases-content ul::-webkit-scrollbar-thumb:hover {
            background-color: var(--text-secondary-light);
        }

        .dark-mode #cs-cases-content ul::-webkit-scrollbar-thumb:hover,
        .dark-mode #venue-cases-content ul::-webkit-scrollbar-thumb:hover,
        .dark-mode #cp-cases-content ul::-webkit-scrollbar-thumb:hover {
            background-color: var(--text-secondary-dark);
        }

#cs-cases-content ul li p.description,
#venue-cases-content ul li p.description,
#cp-cases-content ul li p.description {
  font-family: 'Helvetica Neue', Arial, sans-serif;
  font-size: 0.9em;          /* Slightly smaller than the link text */
  color: #555;               /* A muted gray color for secondary text */
  margin-top: 4px;           /* Adds a little space below the link */
  margin-bottom: 18px;       /* Adds clear separation between list entries */
  padding-left: 10px;        /* Indents the subtitle slightly */
  border-left: 3px solid #e0e0e0; /* Adds a subtle visual separator */
  line-height: 1.4;          /* Improves readability of the description text */
}

        /* Controls Group (Search and Expand/Collapse) */
        .controls-group {
            background-color: var(--card-bg-light); /* Use card background for consistency */
            border-radius: var(--border-radius-lg);
            padding: var(--padding-md);
            margin-bottom: var(--gap-lg);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-color-light);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--gap-md);
            transition: background-color 0.3s, box-shadow 0.3s, border-color 0.3s;
            width: 100%;
            box-sizing: border-box;
        }
        .dark-mode .controls-group {
            background-color: var(--card-bg-dark);
            box-shadow: var(--shadow-dark);
            border-color: var(--border-color-dark);
        }

        /* Map Section */
        .map-section {
            background-color: var(--card-bg-light);
            border-radius: var(--border-radius-xl);
            padding: var(--padding-lg);
            margin-top: var(--gap-lg);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-color-light);
            text-align: center;
            transition: background-color 0.3s, color 0.3s, box-shadow 0.3s, border-color 0.3s;
            width: 100%;
            box-sizing: border-box;
        }
        .dark-mode .map-section {
            background-color: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: var(--shadow-dark);
        }
        #map {
            height: 450px;
            width: 100%;
            border-radius: var(--border-radius-md);
            margin: var(--padding-md) auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color-light);
        }
        .dark-mode #map {
            border-color: var(--border-color-dark);
        }
        .map-controls {
            display: flex;
            justify-content: center;
            gap: var(--gap-md);
            margin-top: var(--padding-md);
            flex-wrap: wrap;
        }
        #distanceOutput {
            font-size: 1.3em;
            font-weight: 600;
            margin-top: var(--padding-md);
            color: var(--primary-blue);
        }
        .dark-mode #distanceOutput {
            color: var(--primary-blue-lighter);
        }

        /* Leaflet Geocoder Overrides */
        .leaflet-control-geocoder {
            box-shadow: var(--shadow-light);
            background: var(--card-bg-light);
            border-radius: var(--border-radius-sm);
            padding: var(--padding-sm);
            color: var(--text-color-light);
            margin: var(--padding-sm);
            z-index: 1000;
            border: 1px solid var(--border-color-light);
        }
        .dark-mode .leaflet-control-geocoder {
            background: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            color: var(--text-color-dark);
            box-shadow: var(--shadow-dark);
        }
        .leaflet-control-geocoder .leaflet-control-geocoder-form input {
            padding: 10px;
            border: 1px solid var(--input-border-light);
            border-radius: var(--border-radius-sm);
            font-size: 0.95em;
            width: 200px;
            outline: none;
            background-color: var(--input-bg-light);
            color: var(--text-color-light);
        }
        .dark-mode .leaflet-control-geocoder .leaflet-control-geocoder-form input {
            background-color: var(--input-bg-dark);
            border-color: var(--input-border-dark);
            color: var(--text-color-dark);
        }
        .leaflet-control-geocoder .leaflet-control-geocoder-form input::placeholder {
            color: var(--input-placeholder-light);
        }
        .dark-mode .leaflet-control-geocoder .leaflet-control-geocoder-form input::placeholder {
            color: var(--input-placeholder-dark);
        }
        .leaflet-control-geocoder .leaflet-control-geocoder-form button {
            background: var(--glass-button-bg-light); /* Apply glass button style */
            color: var(--text-color-light);
            padding: 8px 12px;
            font-size: 0.85em;
            border-radius: var(--border-radius-sm);
            margin-left: var(--padding-sm);
            width: auto;
            box-shadow: var(--glass-button-shadow-light);
            border: 1px solid var(--glass-button-border-light);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            transform: none; /* Override general button transform */
        }
        .leaflet-control-geocoder .leaflet-control-geocoder-form button:hover {
            background: var(--glass-button-hover-bg-light);
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
            transform: none;
        }
        .dark-mode .leaflet-control-geocoder .leaflet-control-geocoder-form button {
            background: var(--glass-button-bg-dark);
            color: white !important;
            border: 1px solid var(--glass-button-border-dark);
            box-shadow: var(--glass-button-shadow-dark);
        }
        .dark-mode .leaflet-control-geocoder .leaflet-control-geocoder-form button:hover {
            background: var(--glass-button-hover-bg-dark);
            box-shadow: 0 3px 8px rgba(0,0,0,0.25);
        }


        .leaflet-control-geocoder .leaflet-control-geocoder-results {
            background: var(--card-bg-light);
            border: 1px solid var(--border-color-light);
            border-radius: var(--border-radius-sm);
            margin-top: var(--padding-sm);
            padding: var(--padding-sm) 0;
            max-height: 250px;
            overflow-y: auto;
            z-index: 1001;
            box-shadow: var(--shadow-light);
        }
        .dark-mode .leaflet-control-geocoder .leaflet-control-geocoder-results {
            background: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: var(--shadow-dark);
        }
        .leaflet-control-geocoder .leaflet-control-geocoder-results a {
            display: block;
            padding: 10px var(--padding-sm);
            color: var(--text-color-light);
            text-decoration: none;
        }
        .dark-mode .leaflet-control-geocoder .leaflet-control-geocoder-results a {
            color: var(--text-color-dark);
        }
        .leaflet-control-geocoder .leaflet-control-geocoder-results a:hover {
            background-color: rgba(0,0,0,0.05);
        }
        .dark-mode .leaflet-control-geocoder .leaflet-control-geocoder-results a:hover {
            background-color: rgba(255,255,255,0.05);
        }

        /* Tool Description Modal */
        .modal, .break-modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.7); /* Black w/ opacity */
            justify-content: center; /* Center content horizontally */
            align-items: center; /* Center content vertically */
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .modal.show-modal, .break-modal.show-modal {
            opacity: 1;
        }

        .modal-content {
            background-color: var(--card-bg-light);
            border-radius: var(--border-radius-xl);
            padding: var(--padding-lg);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-color-light);
            position: relative; /* For close button positioning */
            max-width: 600px;
            width: 90%;
            transform: translateY(-20px); /* Initial state for animation */
            transition: transform 0.3s ease-in-out;
            max-height: 85vh; /* Prevent modal from being taller than the viewport */
            overflow-y: auto; /* Allow content inside the modal to scroll */
        }
        .modal.show-modal .modal-content,
        .break-modal.show-modal .break-modal-content {
            transform: translateY(0);
        }

        .dark-mode .modal-content {
            background-color: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: var(--shadow-dark);
        }
        .close, .break-modal-close {
            color: var(--text-secondary-light);
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .dark-mode .close, .dark-mode .break-modal-close {
            color: var(--text-secondary-dark);
        }
        .close:hover, .close:focus,
        .break-modal-close:hover, .break-modal-close:focus {
            color: var(--text-color-light);
            text-decoration: none;
            cursor: pointer;
        }
        .dark-mode .close:hover, .dark-mode .close:focus,
        .dark-mode .break-modal-close:hover, .dark-mode .break-modal-close:focus {
            color: var(--text-color-dark);
        }

        .tool-description {
            line-height: 1.7;
        }
        .tool-description h3 {
            color: var(--primary-blue);
            font-weight: 600;
        }
        .tool-description p strong {
            color: var(--primary-blue);
        }
        .feedback-button {
            margin-top: var(--padding-lg);
            display: inline-block; /* To allow text-align center or margin auto */
            text-decoration: none; /* For the <a> tag acting as button */
            text-align: center;
        }

        /* Quick Notes & Break Reminder Inputs */
        .quick-notes-area textarea,
        .break-reminder-controls input[type="time"] {
            background-color: var(--input-bg-light);
            color: var(--text-color-light);
            border: 1px solid var(--input-border-light);
            box-shadow: var(--inner-shadow-light);
        }
        .dark-mode .quick-notes-area textarea,
        .dark-mode .break-reminder-controls input[type="time"] {
            background-color: var(--input-bg-dark);
            color: var(--text-color-dark);
            border-color: var(--input-border-dark);
            box-shadow: var(--inner-shadow-dark);
        }
        .quick-notes-area textarea::placeholder,
        .break-reminder-controls input[type="time"]::placeholder {
            color: var(--input-placeholder-light);
        }
        .dark-mode .quick-notes-area textarea::placeholder,
        .dark-mode .break-reminder-controls input[type="time"]::placeholder {
            color: var(--input-placeholder-dark);
        }

        .break-reminder-display {
            font-size: 2.2em;
            font-weight: 700;
            margin: var(--padding-md) 0;
            text-align: center;
            color: var(--primary-blue);
        }
        .dark-mode .break-reminder-display {
            color: var(--primary-blue-lighter);
        }

        /* Break Notification Modal */
        .break-modal-content {
            background-color: #388e3c; /* Darker green for pop-up */
            color: white;
            padding: var(--padding-lg);
            border-radius: var(--border-radius-xl);
            box-shadow: 0 8px 30px rgba(0,0,0,0.6);
            max-width: 400px;
            width: 90%;
            text-align: center;
            transform: translateY(-20px); /* Initial state for animation */
            transition: transform 0.3s ease-in-out;
        }
        .dark-mode .break-modal-content {
            background-color: #4CAF50; /* Slightly lighter green for dark mode */
        }
        .break-modal-close {
            color: white;
        }
        .break-modal-close:hover {
            color: #f0f0f0;
        }

        /* Accessibility Controls */
        .font-size-display {
            font-weight: 600;
            margin: 0 var(--padding-sm);
            display: inline-block;
            min-width: 80px;
            text-align: center;
            font-size: 1.1em;
            color: var(--text-color-light); /* Ensure it's light on dark background */
        }
        .dark-mode .font-size-display {
            color: var(--text-color-dark);
        }

        /* No Content Message */
        .no-content-message {
            font-style: italic;
            text-align: center;
            color: var(--text-secondary-light);
            padding: var(--padding-sm) 0;
            opacity: 0.8;
        }
        .dark-mode .no-content-message {
            color: var(--text-secondary-dark);
        }

        /* Separator div */
        .separator {
            margin: 15px 0;
            border-top: 1px solid var(--border-color-light);
        }
        .dark-mode .separator {
            border-color: var(--border-color-dark);
        }

        /* Card of the Day Section */
        .card-of-the-day-section {
            background-color: var(--card-bg-light);
            border: 2px dashed var(--primary-blue);
            border-radius: var(--border-radius-lg);
            padding: var(--padding-md);
            margin-bottom: var(--gap-lg);
            text-align: center;
            box-shadow: var(--shadow-light);
            transition: all 0.3s ease;
            width: 100%;
            box-sizing: border-box;
            max-width: 900px; /* Match the header's max-width */
        }
        .dark-mode .card-of-the-day-section {
            background-color: var(--card-bg-dark);
            border-color: var(--primary-blue-lighter);
            box-shadow: var(--shadow-dark);
        }
        .card-of-the-day-section h3 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--primary-blue);
            font-size: 1.2em;
        }
        .dark-mode .card-of-the-day-section h3 {
            color: var(--primary-blue-lighter);
        }
        .card-of-the-day-section p {
            margin: 0;
        }
        .card-of-the-day-section a {
            color: var(--text-color-light);
            font-weight: 600;
            text-decoration: none;
            font-size: 1.1em;
            transition: color 0.2s ease;
        }
        .dark-mode .card-of-the-day-section a {
            color: var(--text-color-dark);
        }
        .card-of-the-day-section a:hover {
            color: var(--primary-blue-darker);
            text-decoration: underline;
        }
        .dark-mode .card-of-the-day-section a:hover {
            color: var(--primary-blue);
        }

    </style>
</head>
<body>

    <div class="global-buttons">
        <div class="left-group">
            <button type="button" id="toggleDarkModeBtn">🌙</button>
            <button type="button" id="helpIconBtn" title="About this tool">?</button>
        </div>
        <div class="right-group">
            <button type="button" id="accessibilityTabBtn">⚙️</button>
        </div>
    </div>

    <div class="app-header-section">
        <h1>
            The 
            <img src="https://www.finsmes.com/wp-content/uploads/2018/12/guru-300x300.png" class="guru-icon" alt="Guru App Icon" />
            Thing
        </h1>
        <h2>Quick access to essential Guru cards for common shift scenarios.</h2>
    </div>

    <!-- Card of the Day Section -->
    <div id="cardOfTheDay" class="card-of-the-day-section">
        <h3>🌟 Featured Card</h3>
        <p>
            <a href="#" id="cardOfTheDayLink" target="_blank"></a>
        </p>
    </div>

    <div class="main-content-container">
        <div class="tab-nav">
            <button type="button" class="tab-button active" data-tab-id="guru-tools-tab">Guru Tools</button>
            <button type="button" class="tab-button" data-tab-id="map-tools-tab">Map Tools</button>
            <button type="button" class="tab-button" data-tab-id="utilities-tab">Utilities</button>
        </div>

        <div id="guru-tools-tab" class="tab-content active">
            <div class="controls-group">
                <input type="text" id="searchBar" placeholder="Search Guru cards...">
                <button type="button" id="expandAllBtn">Expand All</button>
                <button type="button" id="collapseAllBtn">Collapse All</button>
            </div>
            <div class="box-container">
            <div class="box">
                <h3 onclick="toggleCollapsible(this)">
                    CS Cases 
                    <span class="toggle-icon">▶</span>
                </h3>
               <div class="collapsible-content" id="cs-cases-content">
  <ul>
    <li>
      <a href="https://app.getguru.com/card/T4pbbk6c/MED-Customer-wants-a-refund-in-cash-MED: Customer wants a refund in cash 💸" target="_blank">MED: Customer wants a refund in cash 💸</a>
      <p class="description">This guide outlines the official procedure for handling requests from customers who are seeking a cash refund.</p>
      <p class="description">Keywords: refund in cash, customer doesn't accept Wolt credits, αποζημίωση σε μετρητά, μετρητά, cash </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/idqBpkGT/MED-Reimbursement-Policy" target="_blank">MED: Reimbursement Policy</a>
      <p class="description">Details the company's overarching policy on all forms of customer reimbursements.</p>
      <p class="description">Keywords: Refund, Late, Cold food, missing, reimbursement, wrong, damaged food, delivery damage, lateness compensation, refund policy, customer refunds, how much do we refund?, time in bag, adherence, refund policy tool, rpt, undelivered, mix-up, mixup, </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cXgj6qni/MED-Customer-App-Account-101-MED: Customer App & Account 101 🛍" target="_blank">MED: Customer App & Account 101 🛍</a>
      <p class="description">A foundational guide to the customer application and account features, essential for troubleshooting common user issues.</p>
      <p class="description">Keywords: wolt app, customer app, account requests, phone number change, how to change phone numbers, changing the app's language, how to use the wolt app, how do we place an order? </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ijaGojET/MED-Rejections-Card-Payment" target="_blank">MED: Rejections - Card Payment</a>
      <p class="description">Provides instructions on how to manage and resolve situations where a customer's card payment has been rejected.</p>
      <p class="description">Keywords: rejections, rejections card, aircall </p>
      <p class="description">Tags: C_R_Rejected, SI_Gen_Rejected </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ir5nLogT/MED-Rejections-Cash-Payment" target="_blank">MED: Rejections - Cash Payment</a>
      <p class="description">This card explains the process for handling rejections related to cash payments.</p>
      <p class="description">Keywords: rejections, rejections cash, aircall </p>
      <p class="description">Tags: C_R_Rejected, SI_Gen_Rejected </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ieM59MLT/MED-Customer-Essentials-Usual-Replies-Templates" target="_blank">MED: Customer Essentials & Usual Replies (Templates)</a>
      <p class="description">A collection of standardized response templates for common customer inquiries to ensure consistent and efficient communication.</p>
      <p class="description">Keywords: templates, customer support, customer reach-outs, email template </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ckq8dA4i/MED-Card-Payment-Failures-Fraud" target="_blank">MED: Card Payment Failures & Fraud</a>
      <p class="description">This guide details how to identify and handle card payment failures and potential fraudulent activities.</p>
      <p class="description">Keywords: payment, card payment, payment errors, cash payment, fraud, 3DS, payment failure, order failed, payment, payment error, payment issue, Card payment, payment failed, Card payment failed, Card Payment fail, uredeferred payment, payment problem, payment rejected, Payment issue, payment issues, Payment failure, payment fail, payment card, deffered payment, card payment issue, card rejected, card rejection, card payment error, card decline, card declined, πληρωμή, αποτυχια πληρωμης, απορριψη καρτας, προβλημα πληρωμης, αποτυχία πληρωμής, απόρριψη κάρτας, Ακύρωση πληρωμής, πληρωμη, Πληρωμή, Πρόβλημα κάρτα, πρόβλημα με κάρτα, αποτυχία πληρωμής με κάρτα, κάρτα, κάρτα πληρωμή, αποτυχια πληρωμής, pagesa cc error, pagese, pagesa me karte dhe gabimet qe mund te shfaqen </p>
      <p class="description">Tags: C_Gen_Payment </p>        
    </li>
    <li>
      <a href="https://app.getguru.com/card/T74rqopc/MED-How-to-Pay-in-Cash-for-users" target="_blank">MED: How to Pay in Cash 💸 — for users</a>
      <p class="description">A guide for support associates to explain to users how the cash payment option works.</p>
      <p class="description">Keywords: cash payment, cash limit, cash issues, how to pay with cash</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/T4p9e8Mc/MED-Payment-Methods-MED: Payment Methods 💳" target="_blank">MED: Payment Methods 💳</a>
      <p class="description">An overview of all accepted payment methods available to customers.</p>
      <p class="description">Keywords: how to add a card, payment methods, entering a card, editing cards, card payment limits, removing a card, app help, how to remove a card </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ckMyLK5i/MED-How-to-change-Credits-into-Card-Refund" target="_blank">MED: How to change Credits into Card Refund</a>
      <p class="description">Step-by-step instructions on converting Wolt credits into a direct card refund for a customer.</p>
      <p class="description">Keywords: refund, refund questions, card refund </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TA4Bdp8c/MED-Receipts-and-InvoicesMED: Receipts and Invoices🧾" target="_blank">MED: Receipts and Invoices🧾</a>
      <p class="description">Information on how to generate, send, and explain receipts and invoices to customers.</p>
      <p class="description">Keywords: receipt, invoice, how to print receipts, receipts in Kosovo </p>
      <p class="description">Tags: V_R_ConfirmOrder </p>        
    </li>
    <li>
      <a href="https://app.getguru.com/card/cKngpKbi/MED-Wolt-Credits-Referral-and-Promo-codes-Promo-Fraud-MED: Wolt Credits, Referral, and Promo codes & Promo Fraud 🫰" target="_blank">MED: Wolt Credits, Referral, and Promo codes & Promo Fraud 🫰</a>
      <p class="description">A comprehensive guide to managing Wolt credits, referral programs, promotional codes, and how to handle potential fraud.</p>
      <p class="description">Keywords: Wolt credits, credits, promo, promo fraud </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ck9b6G4i/MED-Integrated-Guidelines-Policies-tool-IGP-MED: Integrated Guidelines & Policies tool (IGP) 🧮" target="_blank">MED: Integrated Guidelines & Policies tool (IGP) 🧮</a>
      <p class="description">An explanation of the Integrated Guidelines & Policies tool and how to use it effectively.</p>
      <p class="description">Keywords: IGP, integrated guidelines and policies tool, IGP tool, Converse feature, converse integrations, policy guide, refund guidelines, customer support </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cjAoxeAi/MED: Item Return — Retail Orders / Replacement" target="_blank">MED: Item Return — Retail Orders / Replacement</a>
      <p class="description">Guidelines for processing item returns and replacements for retail orders.</p>
      <p class="description">Keywords: wrong item, retail returns, picker app, picker, undelivered items, retail orders, supermarket, grocery, substitutions </p>
      <p class="description">Tags: C_PO_Wrongitem,C_Gen_Payment, C_PO_Substitutions, V_Gen_SubstitutionFeature </p>        
    </li>
    <li>
      <a href="https://app.getguru.com/card/iLRrr6GT/MED-Bad-Packaging-customer-complaint" target="_blank">MED: Bad Packaging — customer complaint</a>
      <p class="description">Instructions on how to handle customer complaints regarding poor or damaged packaging.</p>
      <p class="description">Keywords: bad packaging, damage, damaged order, πρόβλημα συσκευασίας, κακή συσκευασία </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/crpLMyki/MED-Missing-Items-MED: Missing Items 🔍" target="_blank">MED: Missing Items 🔍</a>
      <p class="description">The standard operating procedure for when a customer reports missing items from their order.</p>
      <p class="description">Keywords: missing item, redelivery, refund, refund policies, med venues, deductions, retail, restaurants, missing item, missing, missing items, missing item, mi, missing items policy, missing minor, missingminor, λειπει, λείπει προιόν, λειπει προιον, Λείπουν προϊόντα, ελλιπής παραγγελία, ελλειψη προιοντος, έλλειψη, Έλλειψη προιόντος, έλλειψη προϊόντων, Ελλιπής παραγγελία, λείπει, λείπει αντικείμενο, Λείπει προϊόν, Λείπει προϊόν από την παραγγελία, Μη διαθέσιμο προιόν, προιόντα που λείπουν, Προϊόντα που λείπουν, Mungese produkti, mungese produkti, mungesa ne porosi </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/c7M4Ma7i/MED-Wrong-Items-MED: Wrong Items 🔍" target="_blank">MED: Wrong Items 🔍</a>
      <p class="description">The protocol for addressing situations where a customer has received incorrect items in their order.</p>
      <p class="description">Keywords: wrong item, redelivery, refund, refund policies, med venues, deductions, retail, restaurants </p>
      <p class="description">Tags: C_PO_Wrongitem, V_PO_Wrongitem </p>        
    </li>
    <li>
      <a href="https://app.getguru.com/card/iBzqrp8T/MED-Foreign-Object-in-Food-MED: Foreign Object in Food 🧐" target="_blank">MED: Foreign Object in Food 🧐</a>
      <p class="description">A critical guide on how to handle sensitive cases where a customer finds a foreign object in their food.</p>
      <p class="description">Keywords: foreign object in food, quality issue, food quality </p>
      <p class="description">Tags: C_PO_ForeignObjectInFood </p>        
    </li>
    <li>
      <a href="https://app.getguru.com/card/cqpdgyqi/MED-Delivery-Damage-Refund-Policy" target="_blank">MED: Delivery Damage & Refund Policy</a>
      <p class="description">This card outlines the policy for refunds in cases of damage that occurred during delivery.</p>
      <p class="description">Keywords: delivery damage, damaged food, destroyed delivery, bad packaging, packaging issue, refund policy, deduction, delivery damage, damage, deliverydamage, damaged order, Report damage, damage delivery, delivery damage policy, dd, delivery damage, damaged, drink spilled, spilled drink, καταστροφή παραγγελίας, κατεστραμμένη παραγγελία, καταστροφη παραγγελιας, ζημια, ζημιά διανομή, ζημιά κατά τη διανομή, καταστροφή, porosi e demtuar, porosi e demtuar, demtime ne porosi pija e derdhur </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TeAd8Gkc/MED-Unresponsive-Venue-CP-Case-Handling" target="_blank">MED: Unresponsive Venue & CP Case Handling</a>
      <p class="description">Instructions on what to do when a venue or courier partner is unresponsive.</p>
      <p class="description">Keywords: unresponsive venue, refund, forced refund, follow-up, refund policies, customer refund </p>
      <p class="description">Tags: C_PO_ForeignObjectInFood, C_Serious_FoodSafety, C_PO_Badpackaging, C_PO_Wrongitem, C_PO_Missingmajor, C_PO_Missingminor, C_PO_Missingorwrongingredient, C_PO_Mixup, C_PO_Commentnotread, C_PO_ExpiryDate </p>        
    </li>
    <li>
      <a href="https://app.getguru.com/card/TzbxgKMc/MED-Undelivered-Order-didnt-get-order-case-MED: Undelivered Order (didn't get order case) 🕵" target="_blank">MED: Undelivered Order (didn't get order case) 🕵</a>
      <p class="description">The procedure for investigating and resolving cases where a customer claims their order was never delivered.</p>
      <p class="description">Keywords: didntgetorder, undelivered order, order was lost, CP took order </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cGeq45Gi/MED-AgeRestricted-Delivery" target="_blank">MED: Age-Restricted Delivery</a>
      <p class="description">Guidelines for handling deliveries that contain age-restricted items, including verification processes.</p>
      <p class="description">Keywords: age restriction items, age-restricted delivery, underage customer, underage customers, age-restricted items, check ID, identity check </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/Tbd5yjdc/MED-Gift-Card-guide-KYC-check" target="_blank">MED: Gift Card guide & KYC check</a>
      <p class="description">Information on the use of gift cards and the "Know Your Customer" verification process.</p>
      <p class="description">Keywords: gift card, KYC, gift card KYC, how to redeem gift cards, how to buy gift cards </p>
      <p class="description">Tags: C_Gen_Giftcards  </p>        
    </li>
    <li>
      <a href="https://app.getguru.com/card/TGqejbqc/MED-OTC-Over-the-Counter-Pharmacy-Products-Depon-Panadol-etcMED: OTC (Over the Counter) Pharmacy Products (Depon, Panadol, etc.)💊" target="_blank">MED: OTC (Over the Counter) Pharmacy Products (Depon, Panadol, etc.)💊</a>
      <p class="description">Specific guidelines for handling orders containing over-the-counter pharmacy products.</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/Tyrgxa6c/MED-Gifting-Experience-MED: Gifting Experience 🎁" target="_blank">MED: Gifting Experience 🎁</a>
      <p class="description">Information on the features and support related to Wolt's gifting experience.</p>
      <p class="description">Keywords: gifting, gift </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/i8Xg9gLT/MED-Order-CP-Capabilities-Tags" target="_blank">MED: Order & CP Capabilities Tags</a>
      <p class="description"> A full list and breakdown of how capabilities work and what they are. </p>
      <p class="description">Keywords: capabilities, SupI duty, order tags, CP capabilities, order capabilities </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/T5M48d8c/MED-Global-Product-Recall" target="_blank">MED: Global Product Recall</a>
      <p class="description">The protocol for managing customer inquiries and orders affected by a global product recall.</p>
      <p class="description">Keywords: product recall, recall, quality serious </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cGzg77Ei/MED-Priority-Delivery" target="_blank">MED: Priority Delivery</a>
      <p class="description">An explanation of the priority delivery option and how to handle related customer questions.</p>
      <p class="description">Keywords: priority delivery, payment questions, delivery fee, priority fee, faster delivery </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TzbxgKMc/MED-Undelivered-Order-didnt-get-order-case-MED: Undelivered Order (didn't get order case) 🕵" target="_blank">MED: Undelivered Order (didn't get order case) 🕵</a>
      <p class="description">The procedure for investigating and resolving cases where a customer claims their order was never delivered.</p>
      <p class="description">Keywords: didntgetorder, undelivered order, order was lost, CP took order </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/i9byKrjT/MED-Change-Delivery-TypeCustomer-Pickup" target="_blank">MED: Change Delivery Type/Customer Pick-up🛍</a>
      <p class="description">How to handle requests to change the delivery type to customer pickup.</p>
      <p class="description">Keywords: courier partner support, change delivery type, customer pick-up, takeaway </p>
      <p class="description">Tags: C_PU_Changedeliverytype, CP_PU_Customerpickup, V_PU_Customerpickup </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/iG8Az8xT/MED-Takeaway-order-cases" target="_blank">MED: Takeaway order cases</a>
      <p class="description">Guidelines specifically for handling issues and inquiries related to takeaway orders.</p>
      <p class="description">Keywords: how-to, placing a takeaway order, takeaway order, pickup orders, accidental takeaway, παραλαβή από το κατάστημα, αλλαγή τρόπου παράδοσης, change delivery type </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/iG5q5pRT/MED-Delivery-Late-Case-Handling" target="_blank">MED: Delivery Late Case Handling</a>
      <p class="description">The standard procedure for managing cases where a customer's delivery is late.</p>
      <p class="description">Keywords: delivery late, lateness, venue lateness, late CP, Delivery late, compensations, refunds, customer refunds, lateness compensation, delivery late compensation, Delivery late refund, customer compensation, delivery late refund, Delivery late, late, late order, lateness, compensation. Delivery lateness, delivery, late, delivery late refund policy, lateness policy, order late, refund policy, venue lateness, Καθυστέρηση παραγγελίας, καθυστέρηση, delivery late, καθυστερηση, αποζημίωση πελάτη, καθυστερηση παραγγελιας, καθυστέρηση παραγγελίας, αποζημιωση, αποζημίωση, Αποζημίωση, αποζημίωση για καθυστέρηση, αποζημιωση καθυστερηση, Αποζημίωση καθυστέρηση, Αποζημίωση πελάτη, δελιβερυ λατε, καθυστερηση αποζημιωση, καθυστέρηση παραγγελίας αποζημίωση, med delivery late, Kompesimi klientit per vonesa ne dorezim, kompensim per klientin, vonesa dhe kompensimet </p>
      <p class="description">Tags: CP_PU_Venuelateness, C_D_Deliverylate,  V_PU_WhereisCP </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/iA5o7GXT/MED-Order-Mix-Up-" target="_blank">MED: Order Mix-Up</a>
      <p class="description">Instructions on how to resolve situations where customers have received each other's orders.</p>
      <p class="description">Keywords: mix-up, order mix-up, wrong order </p>
      <p class="description">Tags: C_PO_Mixup, V_PU_Mixup </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/igB6oA9T/MED-Inapp-Tipping-Pre-PostPurchase" target="_blank"> In-app Tipping — Pre- & Post-Purchase</a>
      <p class="description">This card details the functionality of in-app tipping, both before and after a purchase is made.</p>
      <p class="description">Keywords: tipping, tips, post-purchase tipping, ppt, payment </p>
      <p class="description">Tags: C_Gen_Apphelp, CP_Gen_Payment </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TXzjLA8c/MED-Customer-asks-for-cigarettes-from-our-CP-Tobacco-products-fee-in-GRCMED: Customer asks for cigarettes from our CP & Tobacco products fee in GRC" target="_blank">MED: Customer asks for cigarettes from our CP & Tobacco products fee in GRC</a>
      <p class="description">Specific instructions for handling requests for tobacco products and the associated fees in Greece (GRC).</p>
      <p class="description">Keywords: cigarettes, customer asks for cigarettes, CP cigarettes </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/c9pypg9i/MED-Modify-OrderAdding-items-to-an-order" target="_blank">MED: Modify Order/Adding items to an order</a>
      <p class="description">The process for modifying an existing order, including adding new items.</p>
      <p class="description">Keywords: modify order, add to order, change order, additional order, takeaway, modify order, modify, modifyorder, item addition, Modify, add item, Add items, order addition, takeaway, Customer modify order, προσθήκη στην παραγγελία, τροποποιηση παραγγελιας, τροποποιηση παραγγελιας, επεξεργασια παραγγελιας, Προσθήκη προϊόντος, προσθήκη, Προσθήκη, προσθηκη, προσθήκη σε παραγγελία, προσθηκη σε παραγγελια, προσθήκη προιόντων, τροποποίηση, αλλαγη παραγγελιας, Τροποποίηση παραγγελίας, τροποποίηση παραγγελίας, προσθήκη, προσθηκη προιοντος, ndrysho porosine, shto ne porsi, shtesa ne porosi dhe modifikimi i tyre </p>
      <p class="description">Tags: C_R_Modifyorder, V_R_Specialrequestissue, V_R_Contactcustomer,V_R_Pricedifference </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TBG6ggec/MED-Minor-Quality-Issues" target="_blank">MED: Minor Quality Issues</a>
      <p class="description">Guidelines for addressing minor quality issues with an order that do not pose a serious risk.</p>
      <p class="description">Keywords: food quality, foreign object in food, quality issues, food safety </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/Txd8b4Kc/MED-Customers-address-changeChange-delivery-address" target="_blank">MED: Customer's address change📍Change delivery address</a>
      <p class="description">The procedure for updating a customer's delivery address for an order in progress.</p>
      <p class="description">Keywords: address change, address, user requests, CP address change request, wrong address </p>
      <p class="description">Tags: C_R_Changeaddress, CP_D_Addresschangerequest </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/i58a4LET/MED-Cancellation-Policy-Customer-wants-to-cancel-an-order-" target="_blank">MED: Cancellation Policy — Customer wants to cancel an order 🥸</a>
      <p class="description">Outlines the cancellation policy and the steps to take when a customer wishes to cancel their order.</p>
      <p class="description">Keywords: cancellation, cancel order, rejected, venue cancellation, cancel order, Cancellation, venue cancel, cancellation venue, cancel, cancel order venue, Cancel venue, v cancel, Cancellation, Cancellation policy, venue wants to cancel, order cancellation venue, Rejected, Rejection, ακύρωση από κατάστημα, ακύρωση κατάστημα, ακύρωση, ακύρωση παραγγελίας, ακυρωση απο καταστημα, ακυρωση, Ακύρωση καταστήματος, Ακύρωση, Ακύρωση παραγγελίας κατάστημα, ακυρωση καταστημα, ακυρωση κατάστημα, ακυρωση παραγγελιας, cancel order, cancellation, ακυρωση παραγγελίας, Ακυρωση παραγγελιασ, Ακύρωση παραγγελίας, ακυρωση παραγγελιας απο καταστημα, ακύρωση παραγγελίας από κατάστημα, Απορριψη, καταστημα ακυρωση, Κατάστημα ακύρωση, Κατάστημα ακύρωση παραγγελίας, Anulim porosie nga restoranti, anullim, anullime nga restoranti </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TyBLzAoc/MED-User-Data-Security-User-not-successfully-signed-in" target="_blank">MED: User Data Security — User not successfully signed in</a>
      <p class="description">A guide on user data security, specifically for cases where a user is not properly signed in.</p>
      <p class="description">Keywords: sign in help, can't log in the account, log in failure, user details not visible, app help </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ToAaqjrc/MED-User-account-is-disabled-Chargeback" target="_blank">MED: User account is disabled — Chargeback</a>
      <p class="description">Instructions for handling cases where a user's account is disabled due to a chargeback.</p>
      <p class="description">Keywords: disabled account, disabled user, chargeback, GDPR, fraudulent activity, suspicious transactions, αμφισβήτηση συναλλαγής </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ckBzr8ki/MED-SelfService-Cancellation" target="_blank">MED: Self-Service Cancellation</a>
      <p class="description">Information about the self-service cancellation feature available to customers.</p>
      <p class="description">Keywords: self-service cancellation, app help, cancellation </p>
      <p class="description">Tags: C_Gen_Apphelp </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/Tn8y6yRc/MED-User-wants-to-delete-their-account-MED: User wants to delete their account ❌" target="_blank">MED: User wants to delete their account ❌</a>
      <p class="description">The official process for handling a user's request to delete their Wolt account.</p>
      <p class="description">Keywords: account deletion, deleting account, account requests, user account, διαγραφή λογαριασμού, πως διαγράφω το λογαριασμό μου, κλείσιμο λογαριασμού, how to delete my account </p>
      <p class="description">Tags: C_Gen_Accountrequests, C_Gen_Apphelp </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/i64qrKET/MED-Phone-Number-Change" target="_blank">MED: Phone Number Change📞</a>
      <p class="description">Keywords: account requests, phone number, phone number change, phone verification, phone verification, number verification, verify number, Verification, phone number, verify, number verify, account request, verify phone number, customer number verification, account requests, verify customer number, verify customer's number, phone number change, Phone number verification, customer verify, account verification, cs number verification, account, Επιβεβαίωση Αριθμού, επιβεβαιωση αριθμου, Επιβεβαίωση κινητού, Επαλήθευση αριθμού, επιβεβαιωση τηλεφωνου, τηλέφωνο, επιβεβαίωση αριθμού πελάτη, Επιβεβαίωση αριθμού τηλεφώνου, επιβεβαίωση αριθμου, Επαλήθευση αριθμού πελάτη, account request, phone verification, verification, αλλαγή αριθμού, αλλαγή τηλεφώνου, επαληθευση, verifikim, verifiko numrin etapat, verifikimi i numrit te klientit</p>
      <p class="description">Tags: C_Gen_Accountrequests, CP_Gen_Accountrequests </p>    
    </li>
    <li>
      <a href="https://app.getguru.com/card/TrpqRMdc/MED-Users-Phone-Number-Already-in-Use-MED: User's Phone Number Already in Use 📞" target="_blank">MED: User's Phone Number Already in Use 📞</a>
      <p class="description">How to troubleshoot and resolve issues when a user's phone number is already registered to another account.</p>
      <p class="description">Keywords: account requests, phone number, phone number change, phone verification, phone verification, number verification, verify number, Verification, phone number, verify, number verify, account request, verify phone number, customer number verification, account requests, verify customer number, verify customer's number, phone number change, Phone number verification, customer verify, account verification, cs number verification, account, Επιβεβαίωση Αριθμού, επιβεβαιωση αριθμου, Επιβεβαίωση κινητού, Επαλήθευση αριθμού, επιβεβαιωση τηλεφωνου, τηλέφωνο, επιβεβαίωση αριθμού πελάτη, Επιβεβαίωση αριθμού τηλεφώνου, επιβεβαίωση αριθμου, Επαλήθευση αριθμού πελάτη, account request, phone verification, verification, αλλαγή αριθμού, αλλαγή τηλεφώνου, επαληθευση, verifikim, verifiko numrin etapat, verifikimi i numrit te klientit</p>
      <p class="description">Tags: C_Gen_Accountrequests, CP_Gen_Accountrequests </p>    
    </li>
    <li>
      <a href="https://app.getguru.com/card/TxpKxdnc/MED-Customer-cannot-log-in-to-their-accountcant-log-in-to-their-email-MED: Customer cannot log in to their account/can't log in to their e-mail 📫" target="_blank">MED: Customer cannot log in to their account/can't log in to their e-mail 📫</a>
      <p class="description">A guide to assist customers who are having trouble logging into their account or accessing their registered email.</p>
      <p class="description">Keywords: email, can't access email, email change, account requests, user requests</p>
      <p class="description">Tags: C_Gen_Accountrequests, C_Gen_Apphelp, CP_Gen_Accountrequests </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/i74jezoT/MED: User e-mail change📬" target="_blank">MED: User e-mail change📬</a>
      <p class="description">The procedure for changing the email address associated with a user's account.</p>
      <p class="description">Keywords: account requests, user accounts, email, change email, can't access email</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TR4Mpn8c/MED-User-didnt-receive-the-Verification-Code-MED: User didn't receive the Verification Code ✉" target="_blank">MED: User didn't receive the Verification Code ✉</a>
      <p class="description">Troubleshooting steps for when a user does not receive their verification code.</p>
      <p class="description">Keywords: phone verification, phone number, sms code, app help, phone verification, number verification, verify number, Verification, phone number, verify, number verify, account request, verify phone number, customer number verification, account requests, verify customer number, verify customer's number, phone number change, Phone number verification, customer verify, account verification, cs number verification, account, Επιβεβαίωση Αριθμού, επιβεβαιωση αριθμου, Επιβεβαίωση κινητού, Επαλήθευση αριθμού, επιβεβαιωση τηλεφωνου, τηλέφωνο, επιβεβαίωση αριθμού πελάτη, Επιβεβαίωση αριθμού τηλεφώνου, επιβεβαίωση αριθμου, Επαλήθευση αριθμού πελάτη, account request, phone verification, verification, αλλαγή αριθμού, αλλαγή τηλεφώνου, επαληθευση, verifikim, verifiko numrin etapat, verifikimi i numrit te klientit</p>
      <p class="description">Tags: C_Gen_Accountrequests</p>    
    </li>
    <li>
      <a href="https://app.getguru.com/card/cXA9RaEi/MED-CP-Requests-Customers-Phone-NumberAddress-Sharing-Customer-info-Customer-info" target="_blank">MED: CP Requests Customer's Phone Number/Address - Sharing Customer info</a>
      <p class="description">Policy and procedure regarding the sharing of customer information with courier partners.</p>
      <p class="description">Keywords: call, gdpr, proxy, cp, masked number</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TGxgnL7c/MED-User-wants-their-Wolt-data-GDPR-Request" target="_blank">MED: User wants their Wolt data — GDPR Request</a>
      <p class="description">How to handle General Data Protection Regulation (GDPR) requests from users for their data.</p>
      <p class="description">Keywords: GDPR, data dump, data access request, GDPR data, right to access</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cyr4dEXi/MED-Delivery-Fees-Minimum-Baskets-Templates-MED: Delivery Fees, Minimum Baskets & Templates 🛵" target="_blank">MED: Delivery Fees, Minimum Baskets & Templates 🛵</a>
      <p class="description">Information and templates related to delivery fees and minimum basket sizes.</p>
      <p class="description">Keywords: delivery fee, delivery fee questions, DF, delivery fee increase. user Q&A, τέλος διανομής, τι είναι το τέλος διανομής, χρέωση διανομής, κόστος ντιλίβερι, minimum basket fee, minimum basket, ελάχιστο καλάθι, ελάχιστη παραγγελία, χρέωση ελάχιστου καλαθιού</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cMzroARi/MED-Wolt-x-Partnerships" target="_blank">MED: Wolt+ x Partnerships</a>
      <p class="description">Details about partnerships related to the Wolt+ subscription service.</p>
      <p class="description">Keywords: Revolut, Wolt+ offer, Revolut x Wolt, padu, padu app, nova, partnership, wolt+</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cR5EAaGi/MED-Wolt-Capital" target="_blank">MED: Wolt Capital</a>
      <p class="description">Information regarding the Wolt Capital service for partners.</p>
      <p class="description">Keywords: Wolt capital</p>
      <p class="description">Tags: V_Gen_Contactmerchantteam</p>    
    </li>
    <li>
      <a href="https://app.getguru.com/card/iyxnGALT/MED-Wolt-for-Work-MED: Wolt for Work 👷" target="_blank">MED: Wolt for Work 👷</a>
      <p class="description">A guide to the Wolt for Work service, designed for corporate clients.</p>
      <p class="description">Keywords: WfW, Wolt for Work, allowance, wolt for work, split payment, Splitting payment, Wolt for work payment, payment split, wolt for work split, group order, split, wfw, group order payment, Payment split, payment Wolt for Work, wfw split, Wolt for Work payments, wolt for work split, διαχωρισμός πληρωμής, Wolt for Work πληρωμή, Πληρωμή Wolt for Work, wfw πληρωμη, Wolt for work πληρωμές, wolt for work πληρωμη, wolt for work πληρωμή, Ομαδική παραγγελία, Ndarja e pageses, pagesa, ndarja e pagesa per wolt for work</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/T5oKX5qc/MED-Wolt-RewardsWolt-Points-MED: Wolt Rewards/Wolt Points 🎁" target="_blank">MED: Wolt Rewards/Wolt Points 🎁</a>
      <p class="description">An explanation of the Wolt Rewards and Wolt Points loyalty program.</p>
      <p class="description">Keywords: points, wolt rewards, wolt points, order rewards, challenge points</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TAabqMnc/MED-Group-Order-BasicsMED: Group Order Basics🫂" target="_blank">MED: Group Order Basics🫂</a>
      <p class="description">The fundamentals of how group orders work and how to assist users with them.</p>
      <p class="description">Keywords: group orders, order together, how do group orders work?, how can I place a group order, ομαδική παραγγελία, πώς κάνω ομαδική παραγγελία; </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cB5dxnRi/MED-Wolt-Subscription-" target="_blank"> Wolt+ Subscription</a>
      <p class="description">A comprehensive guide to the Wolt+ subscription service, including benefits and management.</p>
      <p class="description">Keywords: wolt+, wolt+ med, wolt+ questions, wolt+ subscription, wolt+ cancellation, wolt+wolt+ cancel, Wolt + cancel, wolt plus, Wolt plus cancellation, wolt plus cancel, cancellation, Cancellation Wolt+, Wolt +, wolt+ cancel, wolt+ cancelation, wolt cancellation, cancel Wolt+, cancelation, wolt+, wolt+ ακύρωση, Ακύρωση Wolt+, wolt+ ακυρωση, ακυρωση wolt+, Ακύρωση συνδρομής Wolt+, ακύρωση συνδρομής, wolt+ ακύρωση, wolt+ακυρωση, ακυρωση wolt +, ακυρωση Wolt plus, διαγραφή wolt+, Wolt + ακυρωση, wolt plus, anullim, anullime wolt+ </p>
      <p class="description">Tags: C_Gen_Wolt+Questions, C_Gen_Wolt+Cancellation, V_Gen_Wolt+Questions, V_Gen_Wolt+Joining</p>    
    </li>
    <li>
      <a href="https://app.getguru.com/card/TxbLXbAc/MED-Inapp-Minigame-Former-Token-prize-change-to-Credits-MED: In-app Minigame (Former Token prize & change to Credits) 🪙" target="_blank">MED: In-app Minigame (Former Token prize & change to Credits) 🪙</a>
      <p class="description">Information about the in-app minigame, including the change from token prizes to credits.</p>
      <p class="description">Keywords: tokens, minigame, credits </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/iMn5eagT/MED-Marketing-Campaign-Issues-Error-Codes" target="_blank">MED: Marketing Campaign Issues & Error Codes</a>
      <p class="description">A guide to troubleshooting issues and error codes related to marketing campaigns.</p>
      <p class="description">Keywords: marketing campaign, promo code, promo code error, marketing support, marketing issues </p>
      <p class="description">Tags: C_Gen_OtherLocal / V_Gen_OtherLocal & GR_C_MarketingIssues</p>    
    </li>
    <li>
      <a href="https://app.getguru.com/card/cE5gxjLi/MED-Service-Fee-Templates" target="_blank">MED: Service Fee & Templates</a>
      <p class="description">Information and communication templates regarding the service fee.</p>
      <p class="description">Keywords: marketing campaign, promo code, promo code error, marketing support, marketing issues </p>
      <p class="description">Tags: C_Gen_OtherLocal / V_Gen_OtherLocal & GR_C_MarketingIssues</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/Tdzq9pyc/MED-Converse-User-Conversation-Notes-MED: Converse User & Conversation Notes 📒" target="_blank">MED: Converse User & Conversation Notes 📒</a>
      <p class="description">Guidelines on how to use the "Converse User" feature and best practices for conversation notes.</p>
      <p class="description">Keywords: converse notes, med converse, user notes, conversation notes, profile notes, converse </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/ioXzyxLT/MED-Trust-Safety-tags" target="_blank">MED Trust & Safety tags</a>
      <p class="description">An explanation of the different Trust & Safety tags and when to apply them to a case.</p>
      <p class="description">Keywords: tags, escalation, serious </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/T6xaMKXc/MED-Serious-Cases-Handling-Templates" target="_blank">MED: Serious Cases Handling & Templates</a>
      <p class="description">A critical guide and set of templates for managing serious incidents and customer complaints.</p>
      <p class="description">Keywords: serious cases, serious case templates </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/TqzdEr5c/MED-Users-Account-Credibility-Investigation-Guide-MED: User's Account Credibility — Investigation Guide 🕵" target="_blank">MED: User's Account Credibility — Investigation Guide 🕵</a>
      <p class="description">A step-by-step guide on how to investigate the credibility of a user's account in sensitive cases.</p>
      <p class="description">Keywords: suspicious user, potential fraud, fake photo, account credibility, fraud, fraud check, confirm order, venue fraud, fraud venue, legit user, user check, customer verification, Clarify order, fraud user, φροντ, Επιβεβαίωση παραγγελίας, επιβεβαιωση πελατη, απατη, καταστημα fraud, κατάστημα fraud, Πελάτης fraud, εγκυρος πελατης, έλεγχος προφίλ πελάτη, απάτη, restorandi ndihme me porosinë e klientin, verifiko, verifikim per porosine e klientit </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/inAKkKKT/MED-Someone-is-using-my-card-without-my-Consent-MED: Someone is using my card without my Consent" target="_blank">MED: Someone is using my card without my Consent</a>
      <p class="description">The protocol for handling cases where a user reports unauthorized use of their payment card.</p>
      <p class="description">Keywords: serious fraud, card used without consent </p>
      <p class="description">Tags: C_Serious_Fraud </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cB5XpkRi/MED-CYP-PHC-Case-Handling-Communication" target="_blank">MED: CYP — PHC, Case Handling & Communication</a>
      <p class="description">Guidelines for case handling and communication for Cyprus (CYP) and potentially other regions (PHC).</p>
      <p class="description">Keywords: PHC, Pizza Hut Cyprus, KFC Cyprus, Taco Bell, Wagamama Cyprus, Cafe Nero, Pasta Brava, Tavernaki, WingStreet, Burger King, PAUL Cyprus, Verde, PHC venues </p>
      <p class="description">Tags: C_PO_ForeignObjectInFood, C_Serious_FoodSafety, C_PO_Badpackaging, C_PO_Wrongitem, C_PO_Missingmajor, C_PO_Missingminor, C_PO_Missingorwrongingredient, C_PO_Mixup, C_PO_Commentnotread</p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cKMo5Bki/MED-Serious-Food-Quality-Cases-Including-food-poisoning-raw-food-reports-allergic-reactions-rotten" target="_blank">MED: Serious Food Quality Cases (Including food poisoning, raw food reports, allergic reactions, rotten)</a>
      <p class="description">A detailed procedure for managing high-priority cases related to severe food quality issues.</p>
      <p class="description">Keywords: food quality, foreign object in food, quality issues, food safety, raw food, allergy, food poisoning, rotten, serious issue </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/cqBKREbi/MED-Customer-asks-for-phone-support-due-to-health-issuesdisability" target="_blank">MED: Customer asks for phone support due to health issues/disability</a>
      <p class="description">The policy and procedure for accommodating requests for phone support from customers with health issues or disabilities.</p>
      <p class="description">Keywords: customer phone support, phone support exceptions, when can we call a customer? </p>
    </li>
    <li>
      <a href="https://app.getguru.com/card/iGajpdAT/MED-Customer-does-not-have-enough-cash-to-pay" target="_blank">MED: Customer does not have enough cash to pay</a>
      <p class="description">Instructions on how to handle situations where a customer does not have sufficient cash to pay for their order upon delivery.</p>
      <p class="description">Keywords: cash issues, customer doesn't have enough money, customer can't pay </p>
    </li>
  </ul>
</div>
            </div>
            <div class="box">
                <h3 onclick="toggleCollapsible(this)">
                    Venue Cases 
                    <span class="toggle-icon">▶</span>
                </h3>
                <div class="collapsible-content" id="venue-cases-content">
    <ul>
        <li>
            <a href="https://app.getguru.com/card/cEGr5noi/MED-Venues-How-to-join-Wolt" target="_blank">MED: Venues — How to join Wolt</a>
            <p class="description">Provides information and guidance for prospective restaurant or retail partners on the process of joining the Wolt platform.</p>
            <p class="description">Keywords: venues, venue onboarding, how to join, application updates, restaurant's team, retail team </p>
            <p class="description">Tags: V_Gen_Contactmerchantteam</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/iA9dxXdT/MED-Venue-ReachOuts-MED: Venue Reach-Outs 🔊" target="_blank">MED: Venue Reach-Outs 🔊</a>
            <p class="description">Guidelines on how and when to contact venues, including best practices for communication.</p>
            <p class="description">Keywords: missing, wrong, redelivery, refund, templates, macros, templates for venues </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cgXd8Gei/MED-Storefront-MED: Storefront" target="_blank">MED: Storefront</a>
            <p class="description">Information about the Wolt Storefront feature, which allows venues to receive direct, commission-free orders.</p>
            <p class="description">Keywords: storefront, merchant service, Wolt Storefront, delivery as a service </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TXdXyBdc/MED-Large-Order-Identification-feature" target="_blank">MED: Large Order Identification feature</a>
            <p class="description">Explains the feature that identifies and flags large orders, allowing venues more time to prepare.</p>
            <p class="description">Keywords: large order, bag count. app help, large order identification</p>
            <p class="description">Tags: V_Gen_Apphelp, V_PU_Largeorder</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/Tzbjk8Bc/MED-StiQ-venues-former-Tasty-Brands-MED: StiQ venues (former Tasty Brands) 🍟" target="_blank">MED: StiQ venues (former Tasty Brands) 🍟</a>
            <p class="description">Specific handling procedures for venues that are part of the StiQ group (previously Tasty Brands).</p>
            <p class="description">Keywords: StiQ, Tasty brands </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/ia5yKxbT/MED-Venue-contacts-us-from-a-User-profile" target="_blank">MED: Venue contacts us from a User profile</a>
            <p class="description">Protocol for situations where a venue partner contacts support through a regular customer account instead of their merchant profile.</p>
            <p class="description">Keywords: manager, merchant, merchant permissions, getting merchant access</p>
        <li>
            <a href="https://app.getguru.com/card/c5zdErbi/MED-Venue-Special-Request-Issue" target="_blank">MED: Venue Special Request Issue</a>
            <p class="description">How to manage and troubleshoot issues arising from special requests made by customers to venues.</p>
            <p class="description">Keywords: special request, request, comment field </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TrjdgXac/MED-Venue-Modify-PickUp-Time-request" target="_blank">MED: Venue — Modify Pick-Up Time request</a>
            <p class="description">Procedure for handling requests from venues to change the scheduled pickup time for an order.</p>
            <p class="description">Keywords: modify pick-up time, change time </p>
            <p class="description">Tags: C_R_Modifydeliverytime, V_PU_Modifypickuptime</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TR5R8pnc/MED-SelfDelivery-pretipping" target="_blank">MED: Self-Delivery pre-tipping</a>
            <p class="description">Information regarding the pre-tipping feature for venues that handle their own deliveries (Self-Delivery).</p>
            <p class="description">Keywords: pre-order tipping, pre-tipping, self-delivery, app help, payment </p>
            <p class="description">Tags: C_Gen_Apphelp</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TxyArx8c/MED-Venue-marks-Ready-EarlierMED: Venue marks Ready Earlier⌛" target="_blank">MED: Venue marks Ready Earlier⌛</a>
            <p class="description">Guidelines for what happens when a venue marks an order as "ready" before the estimated time.</p>
            <p class="description">Keywords: food ready early, marked ready early, food waiting </p>
            <p class="description">Tags: V_PU_WhereisCP</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TLxqznac/MED-Venue-Credits-MED: Venue Credits 💙" target="_blank">MED: Venue Credits 💙</a>
            <p class="description">Explains the system of venue credits, including how they are issued and used as compensation.</p>
            <p class="description">Keywords: exclusive usage credits, promo code by demand, specific venue, venues gifting credits, exclusive credits </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cjRG9E7i/MED-Venue-DeductionAddition-Policy-MED: Venue Deduction/Addition Policy" target="_blank">MED: Venue Deduction/Addition Policy</a>
            <p class="description">Details the official policy for applying deductions or additions to a venue's payout.</p>
            <p class="description">Keywords: deductions, clarify deductions, venue payments, venue lateness, wrong items, missing items </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/iGaEg64T/MED-What-is-Selfdelivery" target="_blank">MED: What is Self-delivery?</a>
            <p class="description">A foundational guide explaining the Self-Delivery model, where venues use their own staff for deliveries.</p>
            <p class="description">Keywords: self-delivery, limited tracking, SD, med self-delivery </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/iBgybKzT/MED-Cash-Selfdelivery-Case-Handling-Policies-and-More-MED: Cash Self-delivery: Case Handling Policies and More 💰" target="_blank">MED: Cash Self-delivery: Case Handling Policies and More 💰</a>
            <p class="description">Comprehensive policies and procedures for handling cash orders for Self-Delivery venues.</p>
            <p class="description">Keywords: self-delivery, limited tracking, SD, med self-delivery, cash order, cash payment </p>
            <p class="description">Tags: C_Gen_SDCash_CustomerNoCash, C_Gen_SDCash_NoPaymentLateness, C_Gen_SDCash_NoPaymentDestroyed, C_Gen_SDCash_NoPaymentMissingItem, C_Gen_SDCash_CPNoChange, C_Gen_SDCash_CustomerAlreadyPaid, C_Gen_SDCash_Other,V_Gen_SDCash_CustomerNotFound, V_Gen_SDCash_CustomerNoCash, V_Gen_SDCash_NoPaymentLateness, V_Gen_SDCash_NoPaymentDestroyed, V_Gen_SDCash_NoPaymentMissingItem, V_Gen_SDCash_CPNoChange, V_Gen_SDCash_CustomerAlreadyPaid, V_Gen_SDCash_Other</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/T5p7Apnc/MED-Prepaid-Selfdelivery-Case-Handling-Policies-and-Templates-MED: Pre-paid Self-delivery — Case Handling Policies and Templates 💳" target="_blank">MED: Pre-paid Self-delivery — Case Handling Policies and Templates 💳</a>
            <p class="description">Policies and communication templates for handling pre-paid (card) orders for Self-Delivery venues.</p>
            <p class="description">Keywords: self-delivery, limited tracking, SD, med self-delivery, card order, card payment, self delivery cant find customer, Can't Find Customer, self delivery, cant find customer self, cant find customer self delivery, Can't Find Customer Self Delivery, Self Delivery Can't find Customer, self delivery cant find, can't find self delivery, self delivery cant find customer, cant find, Can't find customer, self delivery, cant find self delivery, self cant find, Self delivery cancellation, selfdelivery, self delivery δεν βρίσκει πελάτη, δεν βρίσκω τον πελάτη, self delivery δεν βρισκει πελατη, δε βρίσκω τον πελάτη, vetë dorëzim nuk gjej klientin, nuk po gjej klientin, nuk po gjej klientin restorante me korrieret e tyre </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/ioAyXBXT/MED-GRC-Pizza-Fan-Case-Handling-MED: GRC Pizza Fan Case Handling 🍕" target="_blank">MED: GRC Pizza Fan Case Handling 🍕</a>
            <p class="description">Specific instructions for handling support cases related to Pizza Fan venues in Greece (GRC).</p>
            <p class="description">Keywords: pizza fan, pizza fan policies, med self-delivery, iPadless venue </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/i4GepoRT/MED-McDonalds-Greece-Menu-changes-contact-numbers" target="_blank">MED: McDonald's Greece — Menu changes & contact numbers</a>
            <p class="description">Key information for supporting McDonald's in Greece, including menu change procedures and contact details.</p>
            <p class="description">Keywords: McDonald's Greece, McDonald's menu change, contact number </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TaLrKR8c/MED-CYP-Pizza-Hut-Numbers-List-MED: CYP Pizza Hut Numbers List 🍕" target="_blank">MED: CYP Pizza Hut Numbers List 🍕</a>
            <p class="description">A list of contact numbers for Pizza Hut venues in Cyprus (CYP) for support purposes.</p>
            <p class="description">Keywords: Pizza Hut, Pizza Hut contact number, Pizza Hut Cyprus </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TLynG6Mc/MED-Dominos-Support-Communication-Channels" target="_blank">MED: Domino's Support Communication Channels🍕</a>
            <p class="description">Outlines the proper communication channels for resolving issues with Domino's Pizza orders.</p>
            <p class="description">Keywords: Domino's, Domino's communication, Wolt Drive, WD, Domino's call center </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TMknyLec/MED-Wolt-Marketrelated-case-handling" target="_blank">MED: Wolt Market-related case handling</a>
            <p class="description">Procedures for handling all support cases related to Wolt Market, Wolt's own grocery and retail stores.</p>
            <p class="description">Keywords: Wolt market, Wolt market policies, WM, special case handling, retail, grocery, supermarket </p>
            <p class="description">Tags: C_PO_ForeignObjectInFood, C_Serious_FoodSafety, C_PO_Retailquality, C_PO_Groceryquality, C_PO_FrozenItems, C_PO_ExpiryDate, C_PO_FruitVegetableQuality</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TajqkxGc/MED-GRC-KFC-Phone-Numbers-Level-2-Complaints" target="_blank">MED: GRC — KFC Phone Numbers & Level 2 Complaints</a>
            <p class="description">Contact numbers for KFC in Greece and the process for escalating level 2 (serious) complaints.</p>
            <p class="description">Keywords: KFC, KFC Greece, KFC phone numbers, KFC, level 2 complaints </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TR6xxLLc/MED-GRC-Gregorys-Mikrogeymata-Case-Handling-MED: GRC Gregory's Mikrogeymata Case Handling / Γρηγόρης Μικρογεύματα" target="_blank">MED: GRC Gregory's Mikrogeymata Case Handling / Γρηγόρης Μικρογεύματα</a>
            <p class="description">Specific case handling instructions for Gregory's Mikrogeymata, a major chain in Greece.</p>
            <p class="description">Keywords: Gregory's, Γρηγόρης Μικρογεύματα, special case handling, Gregory's call center </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cgERnoRi/MED-Preorders-Time-Slot-Orders-MED: Pre-orders — Time Slot Orders ⏱" target="_blank">MED: Pre-orders — Time Slot Orders ⏱</a>
            <p class="description">Explains how pre-orders and time-slotted deliveries work from the venue's perspective.</p>
            <p class="description">Keywords: time slot orders, pre-orders, delivery window, προγραμματισμένες παραγγελίες, προπαραγγελία </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/Tg579M6c/MED-POS-Integrations-iPadless-Venues-MED: POS Integrations / iPadless Venues 📵" target="_blank">MED: POS Integrations / iPadless Venues 📵</a>
            <p class="description">Information on venues that integrate Wolt directly into their Point of Sale (POS) system and do not use a Wolt tablet.</p>
            <p class="description">Keywords: POS integration, integrated venues, iPadless venues, no iPad </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cd6anyri/MED-Merchant-App-Lite-MAL" target="_blank">MED: Merchant App Lite (MAL)</a>
            <p class="description">A guide to the Merchant App Lite, a simplified version of the main merchant application.</p>
            <p class="description">Keywords: venues, merchant app, MAL, merchant app lite, MAL questions, MAL migration  </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/T6Byqd8c/MED-Hybrid-Delivery-Venue-Configuration-MED: Hybrid Delivery Venue Configuration 🔧" target="_blank">MED: Hybrid Delivery Venue Configuration 🔧</a>
            <p class="description">Details on configuring and supporting venues that use a mix of their own delivery fleet and Wolt couriers.</p>
            <p class="description">Keywords: hybrid delivery, self-delivery, venue configuration, venue delivery settings, how to use hybrid delivery </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cz8B8GXi/MED-Weightbased-items-MED: Weight-based items ⚖️" target="_blank">MED: Weight-based items ⚖️</a>
            <p class="description">How to handle items sold by weight, including price adjustments and customer communication.</p>
            <p class="description">Keywords: templates, customer reach out, undelivered items, weighed items, price difference, missing quantity, authorization hold </p>
            <p class="description">Tags: C_Gen_Payment</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TMnERoec/MED-Printer-troubleshooting-FAQ-and-templates-MED: Printer troubleshooting FAQ and templates 🖨" target="_blank">MED: Printer troubleshooting FAQ and templates 🖨</a>
            <p class="description">A frequent-asked-questions guide and templates for helping venues troubleshoot their order printers.</p>
            <p class="description">Keywords: equipment, venue equipment, printer, iPad, merchant team, printer troubleshooting, app, apps, apphelp, app help, merchant, system guide, MAL </p>
            <p class="description">Tags: V_Gen_Apphelp</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cR4gMKei/MED-Common-iPadTablet-Issues-for-venuesMED: Common iPad-Tablet Issues for venues📳" target="_blank">MED: Common iPad-Tablet Issues for venues📳</a>
            <p class="description">Instructions for troubleshooting common technical problems with the tablets provided to venues.</p>
            <p class="description">Keywords: iPad issues, iPad help, hard reset, equipment, venue help, internet issues, connection issues,ipad settings, ipad sound, Ipad, venue ipad, ipad sound settings, venue app help, ipad help, ipad troubleshooting, apphelp, Venue iPad settings, venue's ipad settings, ipad issues, Ipad issues, ipad sound settings, Sound settings, venue ipad info, venue ipad settings sound, ρυθμίσεις iPad, Ρυθμίσεις Ipad, ρυθμίσεις ήχου, ipad ηχος, ipad ρυθμισεις, Ipad καταστήματος, κατάστημα ipad, ηχος ipad, ρυθμισεις ταμπλετ, Volumi i ipad, ndihme me tabletin, opsionet e tableti </p>
            <p class="description">Tags: V_Gen_Apphelp, V_Gen_Contactmerchantteam</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/crp48EGi/MED-Picker-app-Undelivered-Substitutions-MED: Picker app / Undelivered & Substitutions 📳" target="_blank">MED: Picker app / Undelivered & Substitutions 📳</a>
            <p class="description">Guide to the Picker app used in retail/grocery venues for managing substitutions and unavailable items.</p>
            <p class="description">Keywords: picker app, picker, undelivered items, retail orders, supermarket, grocery, substitutions </p>
            <p class="description">Tags:  C_PO_Substitutions, V_Gen_SubstitutionFeature</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/izpAz5pT/MED-merchantwoltcom-Access-Roles-MED: merchant.wolt.com Access Roles 💻" target="_blank">MED: merchant.wolt.com Access Roles 💻</a>
            <p class="description">Explains the different user roles and permissions within the merchant.wolt.com portal.</p>
            <p class="description">Keywords: merchant.wolt.com, merchant permissions. merchant access, merchant roles </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TEGqLkqc/MED-Venues-Payment-Questions-GRC-MED: Venues Payment Questions (GRC 🇬🇷)" target="_blank">MED: Venues Payment Questions (GRC 🇬🇷)</a>
            <p class="description">A guide specifically for answering payment and payout-related questions from venues in Greece.</p>
            <p class="description">Keywords: venue payment, change payout, payout intervals, payment reports </p>
            <p class="description">Tags: V_Gen_Payment, V_Gen_Contactmerchantteam</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/c4pgAB7i/MED-Venues-Preorders-How-to-handle-them-MED: Venues - Pre-orders: How to handle them ⏰" target="_blank">MED: Venues - Pre-orders: How to handle them ⏰</a>
            <p class="description">Step-by-step instructions for venues on how to manage and prepare pre-orders correctly.</p>
            <p class="description">Keywords: pre-order, how to accept pre-orders, venue support, scheduled order, προ-παραγγελίες, προγραμματισμένη παραγγελία, αποδοχή προπαραγγελίας </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TLGgBrMc/MED: Venue Rating & Venue Credits" target="_blank">MED: Venue Rating & Venue Credits</a>
            <p class="description">Explains the relationship between a venue's customer rating and the issuance of compensatory venue credits.</p>
            <p class="description">Keywords: reviews, venue rating, rating info, rating complaint </p>
            <p class="description">Tags: V_Gen_Ratinginfo</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/iM5Gz9xT/MED-Venues-Menu-Changes-MED: Venues — Menu Changes" target="_blank">MED: Venues — Menu Changes</a>
            <p class="description">The process for assisting venues with making changes or updates to their menu on the Wolt platform.</p>
            <p class="description">Keywords: menu changes, menu, venues, αλλαγές μενού, τμήμα μενού, menu team, POS integrated menu </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/iX4gMqrT/MED-Venues-How-to-Unlock-the-iPad-Devices" target="_blank">MED: Venues — How to Unlock the iPad/ Devices</a>
            <p class="description">Instructions for helping venues unlock the tablet devices used for order management if they become locked.</p>
            <p class="description">Keywords: iPad, iPad questions, unlocking the iPad, ξεκλείδωμα του iPad, πληρωμή iPad, δόσεις του iPad </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TGgXARrc/MED-Wolt-Drive-Basic-Info-How-to-find-a-WD-order" target="_blank">MED: Wolt Drive Basic Info — How to find a WD order</a>
            <p class="description">Basic information on the Wolt Drive service and how to locate a specific Wolt Drive order in the system.</p>
            <p class="description">Keywords: Wolt Drive, WD </p>
            <p class="description">Tags: C_Gen_WoltDrive, CP_Gen_WoltDrive, V_Gen_WoltDrive</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/i48e7xjT/MED-Wolt-Drive-Case-Handling" target="_blank">MED: Wolt Drive Case Handling</a>
            <p class="description">General procedures for managing support cases related to Wolt Drive deliveries.</p>
            <p class="description">Keywords: Wolt drive, Wolt drive policies, change address, change address wolt drive, Wolt Drive address change, address change, Wolt Drive, Address change WD, address change WOLT DRIVE, wolt drive address, Wolt Drive Change Address, WD address change, WD change address, WD address, Change address, wolt drive adress, change adress, WD, address, αλλαγή διεύθυνσης, Αλλαγή διεύθυνσης wolt drive, αλλαγη διευθυνσης, αλλαγη διευθυνσης WOLT DRIVE, wolt drive, wolt drive αλλαγη διευθυνσης, Wolt Drive Αλλαγή διεύθυνσης, αλλαγη διευθυνσης, WD αλλαγή διεύθυνσης, αλλαγή διεύθυνσης, αλλαγη διεύθυνσης wolt drive, αλλαγη διευθυνσης woltdrive, αλλαγή διεύθυνσης σε wolt drive, αλλαγή διευθυνσης Wolt driveαλλαγη διευθυνσης, WDΑλλαγή διεύθυνσης,  WDαλλαγή διευθυνσης, Αλλαγή διευθυνσης, wolt drive αλλαγη διευθυνσης, WD, wd αλλαγη διευθυνσης, ndryshim adrese, ndryshim adrese  </p>
            <p class="description">Tags: C_Gen_WoltDrive, V_Gen_WoltDrive, CP_Gen_WoltDrive</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TMbr4RBc/MED-Wolt-Drive-Special-Cases" target="_blank">MED: Wolt Drive Special Cases</a>
            <p class="description">Guidelines for handling non-standard or complex issues that may arise with Wolt Drive orders.</p>
            <p class="description">Keywords: Wolt Drive, WD, Eetwell, PHC, Wolt Drive Malta, pizza fan, pizza fan WD, Nespresso, Nespresso WD, OAK cava, Wolt Drive, WD, special case handling </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/ieBxr9oT/MED-Wolt-Drive-Venue-Deduction-Fees" target="_blank">MED: Wolt Drive Venue Deduction Fees</a>
            <p class="description">Information on the fees and deductions that may be applied to a venue for issues related to a Wolt Drive order.</p>
            <p class="description">Keywords: wolt drive, deductions, clarify deductions, venue payments, venue lateness, wrong items, missing items, wolt drive policies </p>
            <p class="description">Tags: CP_PU_Venuelateness, C_D_Deliverylate,  V_Gen_Payment, C_Gen_WoltDrive, V_Gen_WoltDrive,  CP_Gen_WoltDrive</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/c9AGX8di/MED-Wolt-Drive-For-Courier-Partners" target="_blank">MED: Wolt Drive For Courier Partners</a>
            <p class="description">Explains how the Wolt Drive service works from the perspective of a courier partner.</p>
            <p class="description">Keywords: vwolt drive, mix-up. damaged order, damaged parcel, can't find customer, wolt drive policies,  </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/crBg97Ai/MED-Wolt-Drive-Cash-MED: Wolt Drive Cash 💸" target="_blank">MED: Wolt Drive Cash 💸</a>
            <p class="description">Procedures for managing cash payments for orders fulfilled through the Wolt Drive service.</p>
            <p class="description">Keywords: wolt drive, wolt drive policies, cash, cash orders,  </p>
            <p class="description">Tags: C_Gen_WoltDrive, V_Gen_WoltDrive, CP_Gen_WoltDrive</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cXzA5RRi/MED-GRC-KotsovolosWolt-Drive-Kotsovolos-Contact-Info-Case-HandlingMED: GRC Kotsovolos/Wolt Drive — Kotsovolos Contact Info & Case Handling" target="_blank">MED: GRC Kotsovolos/Wolt Drive — Kotsovolos Contact Info & Case Handling</a>
            <p class="description">Specific handling instructions and contact information for supporting Wolt Drive orders from Kotsovolos in Greece.</p>
            <p class="description">Keywords: wolt drive, wolt drive policies, Kotsovolos </p>
            <p class="description">Tags: C_Gen_WoltDrive, V_Gen_WoltDrive,  CP_Gen_WoltDrive</p>
        </li>
    </ul>
</div>
            </div>
            <div class="box">
                <h3 onclick="toggleCollapsible(this)">
                    CP Cases 
                    <span class="toggle-icon">▶</span>
                </h3>
                <div class="collapsible-content" id="cp-cases-content">
    <ul>
        <li>
            <a href="https://app.getguru.com/card/TKMX6xMc/MED-Basic-CP-Payment-Info-MED: Basic CP Payment Info" target="_blank">MED: Basic CP Payment Info</a>
            <p class="description">A guide covering the fundamental aspects of courier partner payments, including schedules and how earnings are calculated.</p>
            <p class="description">Keywords:CP, courier partners, CP payments, courier payments, πληρωμές διανομέων </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/Ta8eL8Bc/MED-Courier-Compensations-Manual-Additions-Deductions-from-Support-MED: Courier Compensations — Manual Additions & Deductions from Support 💰" target="_blank">MED: Courier Compensations — Manual Additions & Deductions from Support 💰</a>
            <p class="description">Instructions for support agents on how to manually add or deduct funds from a courier partner's payment as compensation or for other reasons.</p>
            <p class="description">Keywords: cp compensations, cp additions, venue lateness, customer lateness, can't find customer, change address, wrong address, distance compensation, returning items, cancellation, CP compensation, Venue Lateness, venue late, cp additioncourier compensation, cp compensation, Venue lateness compensation, cp compensations, cp venue lateness, vl, courier compensation venue lateness, Compensation, cp additions, Cp compensation for venue lateness, cp compensation venue lateness, cp refund, lateness, αποζημίωση διανομέα, αποζημιωση διανομεα, Αργοπορία καταστήματος, cp addition, cp compensation, cp αποζημιωση, αποζημίωση, αποζημίωση διανομεα, Αποζημίωση διανομεα, Αποζημίωση διανομέα, αποζημίωση διανομέων, Αποζημίωση συνεργάτη διανομέα, Διανομέας αποζημίωση, καθυστερηση καταστηματος, καθυστέρηση καταστήματος, Kompesimi korrierit restoranti me vonesë, kompensim korrieri, kompensime per pritje ne restorant nga korrier </p>
            <p class="description">Tags: CP_PU_Venuelateness, CP_D_Addresschangerequest, CP_D_Distancecomplaint, CP_D_Cantfindcustomer</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/ca585oqi/MED-Accept-a-Package-Bundles" target="_blank">MED: Accept a Package (Bundles)</a>
            <p class="description">Explains the process and policies for handling bundled orders (multiple orders picked up from the same venue).</p>
            <p class="description">Keywords: multi-delivery, accept a package, bundled tasks, multiple deliveries </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/T7eanX5c/MED-CP-RequestsContacting-Operations" target="_blank">MED: CP Requests/Contacting Operations</a>
            <p class="description">Protocol for handling various requests from courier partners and the procedure for when support needs to contact the Operations team.</p>
            <p class="description">Keywords: change phone number, change email, CP wants to change email, CP wants to change phone number, CP log in fail, asking for orders, contact Operations, I want to speak with OPS </p>
            <p class="description">Tags: CP_Gen_Accountrequests, CP_Gen_Askingfororders</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/iA5M98BT/MED-CP-Cash-Offloads-Cash-Capability-MED: CP Cash Offloads & Cash Capability 💸" target="_blank">MED: CP Cash Offloads & Cash Capability 💸</a>
            <p class="description">Details the process for courier partners to offload collected cash and manage their cash-handling capability.</p>
            <p class="description">Keywords: cash, cash offloads, cash balance, account reactivation, SmartPay, deposit, OPAP, FexServ, AirCash, how can CPs deposit?, how do deposits work? </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cM5Lpa9i/MED-CP-Name-Abbreviations-OFB-FR-etcMED: CP Name Abbreviations — OFB, FR, etc." target="_blank">MED: CP Name Abbreviations — OFB, FR, etc.</a>
            <p class="description">A glossary explaining common abbreviations (like OFB, FR) used in courier partner communications and systems.</p>
            <p class="description">Keywords: med cp, courier partner, abbreviation, courier name abbreviations, cp account info </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TjR6RL6c/MED-CP-How-to-Apply-CP-referrals-GRC-MED: CP How to Apply & CP referrals — GRC 🇬🇷" target="_blank">MED: CP How to Apply & CP referrals — GRC 🇬🇷</a>
            <p class="description">Specific information for Greece (GRC) on the application process for new couriers and the courier referral program.</p>
            <p class="description">Keywords: CP onboarding, CP application, CP, courier partner, αιτήσεις διανομέων, how to apply, πώς κάνω αίτηση για διανομέας;, how can I become a courier partner?, referral program, CP referrals </p>
            <p class="description">Tags: CP_Gen_Onboarding
        </li>
        <li>
            <a href="https://app.getguru.com/card/iMebngxT/MED-Courier-Partner-App-101-MED: Courier Partner App 101 🚀" target="_blank">MED: Courier Partner App 101 🚀</a>
            <p class="description">A foundational guide to the features and functionality of the Wolt Partner app for couriers.</p>
            <p class="description">Keywords: CPs, Wolt partner app, app help, Partner app breakdown, Wolt screenshot, partner app guide, partner app walkthrough
        </li>
        <li>
            <a href="https://app.getguru.com/card/TKMX6xMc/MED-Basic-CP-Payment-Info-MED: Basic CP Payment Info" target="_blank">MED: Basic CP Payment Info</a>
            <p class="description">A guide covering the fundamental aspects of courier partner payments, including schedules and how earnings are calculated.</p>
            <p class="description">Keywords: CP, courier partners, CP payments, courier payments, πληρωμές διανομέων
        </li>
        <li>
            <a href="https://app.getguru.com/card/Tr96jdnc/MED-Verification-Code-Issue-in-Wolt-Partner-app" target="_blank">MED: Verification Code Issue in Wolt Partner app</a>
            <p class="description">Troubleshooting steps for when a courier partner is not receiving or having issues with the verification code for the app.</p>
            <p class="description">Keywords: veification partner app </p>
            <p class="description">Tags: CP_Gen_Apphelp </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/T8bG8Mnc/MED-Venue-is-Closed-Cant-Find-Venue" target="_blank">MED: Venue is Closed & Can't Find Venue</a>
            <p class="description">Procedure for courier partners to follow when they arrive at a pickup location and the venue is closed or cannot be found.</p>
            <p class="description">Keywords: wolt drive, wolt drive policies, Kotsovolos </p>
            <p class="description">Tags:CP_PU_Cantfindvenue, CP_PU_Venueclosed </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/ikAdnaET/MED-Large-Order-Help-Splitting-Feature-MED: Large Order Help — Splitting Feature ✂️" target="_blank">MED: Large Order Help — Splitting Feature ✂️</a>
            <p class="description">Explains how couriers can request help for very large orders and how the order splitting feature works.</p>
            <p class="description">Keywords: cloned task, cloned order, split delivery, split feature, multiple deliveries, large order, heavy order</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cbjxyK7i/MED-CP-informs-us-about-the-customers-wrong-address-MED: CP informs us about the customer's wrong address 📍" target="_blank">MED: CP informs us about the customer's wrong address 📍</a>
            <p class="description">The process to follow when a courier reports that the customer's address in the app is incorrect.</p>
            <p class="description">Keywords: wrong address, change address, cancellation drop off, αλλαγή διεύθυνσης, λάθος διεύθυνση </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TokBqKgc/MED-CP-Requests-Area-Change" target="_blank">MED: CP Requests Area Change</a>
            <p class="description">How to handle requests from courier partners who wish to change their designated delivery area.</p>
            <p class="description">Keywords: courier partner, CP, area change </p>
            <p class="description">Tags: CP_R_Areachange </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/iaA9a6ET/MED-FAQ-Wolt-Gear-MED: FAQ Wolt Gear 🛵" target="_blank">MED: FAQ Wolt Gear 🛵</a>
            <p class="description">A list of frequently asked questions regarding the official Wolt delivery gear for couriers.</p>
            <p class="description">Keywords: CP, CP questions, Wolt gear </p>
            <p class="description">Tags: CP_Gen_Gear</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cxddKjdi/MED-Courier-cant-continue-with-the-task-Vehicle-Battery-Accident-" target="_blank">MED: Courier can't continue with the task (Vehicle, Battery, Accident)</a>
            <p class="description">Critical procedure for handling situations where a courier cannot complete a delivery due to a vehicle issue, dead battery, or an accident.</p>
            <p class="description">Keywords: can't continue with task, mix-up, accident, CP accident, courier partners </p>
            <p class="description">Tags: CP_R_UnassignOther</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/cXA9RaEi/MED-CP-Requests-Customers-Phone-NumberAddress-Sharing-Customer-infoMED: CP Requests Customer's Phone Number/Address - Sharing Customer info" target="_blank">MED: CP Requests Customer's Phone Number/Address - Sharing Customer info</a>
            <p class="description">Policy and guidelines on sharing a customer's contact information or address with a courier partner upon request.</p>
            <p class="description">Keywords: call, gdpr, proxy, cp, masked number </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/TkABzozc/MED-CP-mixupsBundle-Order-MixupOrder-was-taken-by-another-CPMED: CP mix-ups/Bundle Order Mix-up/Order was taken by another CP" target="_blank">MED: CP mix-ups/Bundle Order Mix-up/Order was taken by another CP</a>
            <p class="description">How to resolve various mix-up scenarios, such as when couriers take the wrong order or an order is picked up by the wrong partner.</p>
            <p class="description">Keywords: mix-up, order mix-up, wrong order </p>
            <p class="description">Tags: CP_D_Ordermixup</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/T4pqRpMc/MED-Cant-Find-Customer" target="_blank">MED: Can’t Find Customer🕵</a>
            <p class="description">The step-by-step process for a courier to follow when they are at the delivery location but cannot find or contact the customer.</p>
            <p class="description">Keywords: can't find customer, unresponsive customer, med CP, undelivered order, cash issue </p>
            <p class="description">Tags: CP_D_Cantfindcustomer</p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/capyr5gi/MED-How-to-Force-Assign-an-Order" target="_blank">MED: How to Force Assign an Order</a>
            <p class="description">Instructions for support agents on how to manually assign a specific order to a courier partner.</p>
            <p class="description">Keywords: force assign, auto_assign </p>
        </li>
        <li>
            <a href="https://app.getguru.com/card/idXj6RoT/MED-PSR-Unassign-Task-Requests" target="_blank">MED: PSR Unassign Task Requests🫰</a>
            <p class="description">Guidelines for handling unassignment requests from courier partners that require support intervention (Paid Support Request).</p>
            <p class="description">Keywords: unassign, cancellation, remove order, remove task, self-serve unassign </p>
        </li>
    </ul>
</div>
            </div>
                <div class="box" id="recently-viewed-box">
                    <h3>
                        Recently Viewed
                        <span class="toggle-icon">▶</span>
                    </h3>
                    <div class="collapsible-content" id="recently-viewed-content">
                        <ul id="recentlyViewedList">
                            <li class="no-content-message">No recently viewed cards yet. Click on any Guru card to add it here!</li>
                        </ul>
                        <div class="search-button">
                            <button type="button" id="clearRecentlyViewedBtn">Clear History</button>
                        </div>
                    </div>
                </div>
                </div>
            <div class="search-button">
                <button type="button" id="gleanSearchBtn">Can't find what you're looking for? Try searching Glean.</button>
                <a href="https://gemini.google.com/" target="_blank" class="gemini-link-button">
                    Open Gemini
                </a>
            </div>
        </div>

        <div id="map-tools-tab" class="tab-content">
            <div class="map-section">
                <h3>
                    Calculate Straight-Line Distance on Map (OpenStreetMap)
                </h3>
                <p>Click two locations on the map or search them to calculate the distance between them in a straight line.</p>
                <div id="map"></div>
                <div class="map-controls">
                    <button type="button" id="clearMapMarkersBtn">Clear Locations</button>
                </div>
                <div id="distanceOutput"></div>
            </div>
        </div>

        <div id="utilities-tab" class="tab-content">
            <div class="box-container">
                <div class="box">
                    <h3>
                        CP Compensation Calculator
                        <span class="toggle-icon">▶</span>
                    </h3>
                    <div class="collapsible-content">
                        <label for="cpWaitMinutes">Minutes Waited:</label>
                        <input type="number" id="cpWaitMinutes" min="0" value="0">
                        <button type="button" id="calculateCpCompensationBtn">Calculate Compensation</button>
                        <p>Compensation: <span id="compensationResult">0.00</span> €</p>
                    </div>
                </div>
                <div class="box">
                    <h3>
                        Quick Notes / Scratchpad
                        <span class="toggle-icon">▶</span>
                    </h3>
                    <div class="collapsible-content">
                        <textarea id="quickNotesInput" placeholder="Jot down quick notes here..."></textarea>
                        <div class="search-button">
                            <button type="button" id="saveQuickNotesBtn">Save Notes</button>
                            <button type="button" id="clearQuickNotesBtn">Clear Notes</button>
                        </div>
                        <p id="quickNotesStatus" style="text-align: center; margin-top: 10px; font-size: 0.9em; color: green;"></p>
                    </div>
                </div>
                <div class="box">
                    <h3>
                        Break Reminder
                        <span class="toggle-icon">▶</span>
                    </h3>
                    <div class="collapsible-content">
                        <label for="breakTimeInput">Set Break Time:</label>
                        <input type="time" id="breakTimeInput" value="12:00">
                        <div class="search-button">
                            <button type="button" id="setBreakReminderBtn">Set Reminder</button>
                            <button type="button" id="cancelBreakReminderBtn">Cancel Reminder</button>
                        </div>
                        <div class="break-reminder-display" id="breakReminderStatus">No reminder set.</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="accessibility-tab" class="tab-content">
            <div class="box-container">
                <div class="box">
                    <h3>
                        Accessibility Controls
                        <span class="toggle-icon">▶</span>
                    </h3>
                    <div class="collapsible-content accessibility-controls">
                        <p>Font Size:</p>
                        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 15px;">
                            <button type="button" id="decreaseFontSizeBtn">-</button>
                            <span id="fontSizeDisplay" class="font-size-display">Normal</span>
                            <button type="button" id="increaseFontSizeBtn">+</button>
                        </div>
                        <div class="separator"></div> <p>Display Mode:</p>
                        <button type="button" id="toggleHighContrastBtn">Toggle High Contrast</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    
    <div id="breakReminderModal" class="break-modal">
        <div class="break-modal-content">
            <span class="break-modal-close" id="closeBreakReminderModalBtn">×</span>
            <p>Time for your break!</p>
            <button type="button" id="dismissBreakReminderBtn">Dismiss</button>
        </div>
    </div>

    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeInfoModalBtn">×</span>
            <div class="tool-description">
                <h3>About This Tool</h3>
                <p>
                    This tool, developed by <strong>Ilias V.</strong>, is a comprehensive support utility designed to enhance your efficiency during shifts. Its primary features include:
                </p>
                <ul>
                    <li>
                        <strong>Guru Tools Tab:</strong> Quick access to curated Guru cards, a search bar to filter them, and direct links to Glean and Gemini.
                    </li>
                    <li>
                        <strong>Map Tools Tab:</strong> An interactive map to calculate straight-line distances between two points.
                    </li>
                    <li>
                        <strong>Utilities Tab:</strong> Includes a CP Compensation Calculator, a Quick Notes scratchpad, and a time-based Break Reminder with an audible alert.
                    </li>
                    <li>
                        <strong>Accessibility Controls:</strong> Adjust font size and toggle a high-contrast mode for improved readability, accessible via a global button.
                    </li>
                    <li>
                        <strong>Dark Mode Toggle:</strong> Switch between light and dark themes for visual comfort, accessible via a global button.
                    </li>
                    <li>
                        <strong>Feedback Mechanism:</strong> Provides a dedicated channel for you to share feedback and suggestions.
                    </li>
                </ul>
                <p>
                    In essence, this tool serves as a centralized, user-friendly hub for essential information and practical utilities to support you throughout your shift.
                </p>

                <a href="https://mail.google.com/mail/u/0/?view=cm&fs=1&to=ilias.varvarousis@wolt.com&su=Feedback for The G Thing&body=Hi Ilias,%0A%0AI have some feedback regarding The G Thing tool:%0A%0A[Your feedback here]%0A%0ARegards," target="_blank" class="feedback-button">
                    Send Feedback via Gmail
                </a>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

    <script>
        // Use an IIFE to encapsulate the application logic and avoid global variable pollution.
        (function() {
            // --- Global Variables for Map ---
            let map;
            let markers = [];
            let polyline;
            // Default center for Athens, Greece
            const ATHENS_CENTER = [37.9838, 23.7275];
            let geocoderControl; // Declare geocoderControl globally

            // --- Map Initialization Function ---
            function initMap() {
                // Only initialize map if the map container is in the active tab and visible
                const mapContainer = document.getElementById('map');
                if (!mapContainer || mapContainer._leaflet_id) { // Check if map already initialized
                    return;
                }

                map = L.map('map').setView(ATHENS_CENTER, 12); // Initialize Leaflet map

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);

                // Add the Leaflet Control Geocoder search box
                geocoderControl = L.Control.geocoder({
                    placeholder: 'Search for a location...',
                    collapsed: true, // Start with the search box collapsed
                    defaultMarkGeocode: false // Prevent default marker placement by geocoder
                }).addTo(map);

                // Listen for geocoder results and add custom marker
                geocoderControl.on('markgeocode', function(e) {
                    // Clear existing markers if two are already present before adding new one from search
                    if (markers.length === 2) {
                        clearMapMarkers();
                    }
                    placeMarkerAndCalculateDistance(e.geocode.center);
                    map.fitBounds(e.geocode.bbox); // Fit map to the bounding box of the result
                });

                // Listen for clicks on the map
                map.on('click', (e) => {
                    placeMarkerAndCalculateDistance(e.latlng);
                });

                updateDistanceOutput(); // Initialize distance output text
            }

            function placeMarkerAndCalculateDistance(location) {
                // If two markers already exist, remove the oldest and add the new one
                if (markers.length === 2) {
                    map.removeLayer(markers[0]); // Remove the first marker from the map
                    markers.shift(); // Remove it from the array
                }

                // Add a new marker
                const marker = L.marker(location).addTo(map);
                markers.push(marker);

                // Update info or calculate if two markers are placed
                calculateDistance();
            }

            function calculateDistance() {
                const distanceOutput = document.getElementById('distanceOutput');

                // Clear existing polyline before drawing a new one
                if (polyline) {
                    map.removeLayer(polyline);
                    polyline = null; // Reset polyline
                }

                if (markers.length === 2) {
                    const latLng1 = markers[0].getLatLng();
                    const latLng2 = markers[1].getLatLng();

                    // Convert Leaflet LatLng objects to Turf.js points
                    const point1 = turf.point([latLng1.lng, latLng1.lat]);
                    const point2 = turf.point([latLng2.lng, latLng2.lat]);

                    // Calculate distance using Turf.js (in kilometers by default)
                    const distanceInKm = turf.distance(point1, point2, {units: 'kilometers'});

                    distanceOutput.textContent = `Straight-line distance: ${distanceInKm.toFixed(2)} km`;

                    // Draw the polyline
                    polyline = L.polyline([latLng1, latLng2], {
                        color: 'red',
                        weight: 4,
                        opacity: 0.8
                    }).addTo(map);

                    // Adjust map view to show both markers, but only if they are significantly far apart
                    const bounds = L.latLngBounds(latLng1, latLng2);
                    if (!map.getBounds().contains(bounds)) { // Only fit bounds if the markers are outside current view
                        map.fitBounds(bounds, { padding: [50, 50] }); // Add some padding
                    }

                } else {
                    updateDistanceOutput(); // Reset text if not enough markers
                }
            }

            function clearMapMarkers() {
                markers.forEach(marker => map.removeLayer(marker)); // Remove all markers from map
                markers = []; // Clear the array
                if (polyline) {
                    map.removeLayer(polyline); // Remove polyline from map
                    polyline = null;
                }
                updateDistanceOutput(); // Reset text
            }

            function updateDistanceOutput() {
                const distanceOutput = document.getElementById('distanceOutput');
                if (markers.length === 0) {
                    distanceOutput.textContent = 'Click two points on the map or search them to calculate distance.';
                } else if (markers.length === 1) {
                    distanceOutput.textContent = 'Click a second point on the map to calculate distance.';
                }
            }

            // --- Existing Functions (retained and refactored) ---
            function openSearch() {
                window.open('https://app.glean.com/search?q=app%3Aguru&tab=guru', '_blank');
            }

            function toggleDarkMode() {
                document.body.classList.toggle('dark-mode');
                const btn = document.getElementById('toggleDarkModeBtn');
                if (document.body.classList.contains('dark-mode')) {
                    btn.textContent = '☀️';
                } else {
                    btn.textContent = '🌙';
                }
                localStorage.setItem('darkModeEnabled', document.body.classList.contains('dark-mode'));
            }

            function loadDarkModeSetting() {
                if (localStorage.getItem('darkModeEnabled') === 'true') {
                    document.body.classList.add('dark-mode');
                    document.getElementById('toggleDarkModeBtn').textContent = '☀️';
                } else {
                    document.body.classList.remove('dark-mode');
                    document.getElementById('toggleDarkModeBtn').textContent = '🌙';
                }
            }

            // --- UPDATED MODAL FUNCTIONS ---
            function openModal() {
                const modal = document.getElementById('infoModal');
                modal.style.display = 'flex';
                setTimeout(() => modal.classList.add('show-modal'), 10);
            }

            function closeModal() {
                const modal = document.getElementById('infoModal');
                modal.classList.remove('show-modal');
                modal.addEventListener('transitionend', function handler() {
                    if (!modal.classList.contains('show-modal')) {
                        modal.style.display = 'none';
                        modal.removeEventListener('transitionend', handler);
                    }
                }, { once: true }); // Use { once: true } for cleaner event listener removal
            }

            function toggleCollapsible(headerElement) {
                const content = headerElement.nextElementSibling;
                const icon = headerElement.querySelector('.toggle-icon');

                if (content.classList.contains('show')) {
                    content.classList.remove('show');
                    icon.classList.remove('rotated');
                } else {
                    content.classList.add('show');
                    icon.classList.add('rotated');
                }
            }

            function toggleAllCollapsible(expand) {
                // Only toggle collapsible content within the active tab
                const activeTabContent = document.querySelector('.tab-content.active');
                if (!activeTabContent) return;

                // Exclude the map-section from collapsible toggling
                const contents = activeTabContent.querySelectorAll('.collapsible-content:not(#map-content)');
                const icons = activeTabContent.querySelectorAll('.box h3 .toggle-icon'); // Select icons related to collapsible boxes


                contents.forEach(content => {
                    if (expand) {
                        content.classList.add('show');
                    } else {
                        content.classList.remove('show');
                    }
                });

                icons.forEach(icon => {
                    if (expand) {
                        icon.classList.add('rotated');
                    } else {
                        icon.classList.remove('rotated');
                    }
                });
            }

            let searchTimeout;
            function filterLinksDebounced() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(filterLinks, 300); // 300ms delay
            }

            function filterLinks() {
                const searchInput = document.getElementById('searchBar');
                const filter = searchInput.value.toLowerCase();
                // Only filter links within the 'guru-tools-tab'
                const guruToolsTab = document.getElementById('guru-tools-tab');
                if (!guruToolsTab) return;

                const allBoxes = guruToolsTab.querySelectorAll('.box');

                allBoxes.forEach(box => {
                    const links = box.querySelectorAll('ul li');
                    let boxHasVisibleLinks = false;

                    links.forEach(li => {
                        const linkText = li.textContent.toLowerCase();
                        if (linkText.includes(filter)) {
                            li.style.display = 'list-item';
                            boxHasVisibleLinks = true;
                        } else {
                            li.style.display = 'none';
                        }
                    });

                    const collapsibleContent = box.querySelector('.collapsible-content');
                    const toggleIcon = box.querySelector('.toggle-icon');

                    if (filter === '') {
                        // Collapse boxes when search is cleared
                        collapsibleContent.classList.remove('show');
                        toggleIcon.classList.remove('rotated');
                        box.style.display = 'block'; // Always show all boxes when search is empty
                    } else {
                        if (boxHasVisibleLinks) {
                            box.style.display = 'block';
                            collapsibleContent.classList.add('show');
                            toggleIcon.classList.add('rotated');
                        } else {
                            box.style.display = 'none';
                        }
                    }
                });
            }

            function calculateCpCompensation() {
                const minutesWaited = parseInt(document.getElementById('cpWaitMinutes').value);
                let compensation = 0;

                if (isNaN(minutesWaited) || minutesWaited < 0) {
                    document.getElementById('compensationResult').textContent = 'Invalid input';
                    return;
                }

                if (minutesWaited < 15) {
                    compensation = 0;
                } else {
                    compensation = 1.20; 
                    const additionalMinutes = minutesWaited - 15;
                    const fullFiveMinBlocks = Math.floor(additionalMinutes / 5);
                    compensation += (fullFiveMinBlocks * 0.50);
                }

                document.getElementById('compensationResult').textContent = compensation.toFixed(2) + ' €';
            }

            // --- Recently Viewed Guru Cards Functions ---
            const RECENTLY_VIEWED_KEY = 'guruRecentlyViewed';
            const MAX_RECENT_ITEMS = 5;

            function getRecentlyViewed() {
                try {
                    const data = localStorage.getItem(RECENTLY_VIEWED_KEY);
                    return data ? JSON.parse(data) : [];
                } catch (e) {
                    console.error("Error parsing recently viewed data from localStorage:", e);
                    return [];
                }
            }

            function saveRecentlyViewed(items) {
                try {
                    localStorage.setItem(RECENTLY_VIEWED_KEY, JSON.stringify(items));
                }
                catch (e) {
                    console.error("Error saving recently viewed data to localStorage:", e);
                }
            }

            function addRecentlyViewed(title, url) {
                let items = getRecentlyViewed();
                items = items.filter(item => item.url !== url); // Remove if already exists
                items.unshift({ title, url }); // Add to the beginning
                if (items.length > MAX_RECENT_ITEMS) {
                    items = items.slice(0, MAX_RECENT_ITEMS);
                }
                saveRecentlyViewed(items);
                renderRecentlyViewed();
            }

            function renderRecentlyViewed() {
                const recentlyViewedList = document.getElementById('recentlyViewedList');
                if (!recentlyViewedList) return; // Ensure element exists before rendering

                const items = getRecentlyViewed();
                recentlyViewedList.innerHTML = ''; // Clear existing content

                if (items.length === 0) {
                    const li = document.createElement('li');
                    li.className = 'no-content-message';
                    li.textContent = 'No recently viewed cards yet. Click on any Guru card to add it here!';
                    recentlyViewedList.appendChild(li);
                } else {
                    items.forEach(item => {
                        const li = document.createElement('li');
                        const a = document.createElement('a');
                        a.href = item.url;
                        a.textContent = item.title;
                        a.target = '_blank';
                        // Re-add event listener for dynamically created links
                        a.addEventListener('click', function() {
                            addRecentlyViewed(this.textContent, this.href);
                        });
                        li.appendChild(a);
                        recentlyViewedList.appendChild(li);
                    });
                }
            }

            function clearRecentlyViewed() {
                localStorage.removeItem(RECENTLY_VIEWED_KEY);
                renderRecentlyViewed();
                const recentlyViewedContent = document.getElementById('recently-viewed-content');
                const recentlyViewedHeader = recentlyViewedContent.previousElementSibling;
                if (recentlyViewedHeader) {
                    const content = recentlyViewedHeader.nextElementSibling;
                    const icon = recentlyViewedHeader.querySelector('.toggle-icon');
                    if (content.classList.contains('show')) {
                        content.classList.remove('show');
                        icon.classList.remove('rotated');
                    }
                }
            }

            function initRecentlyViewed() {
                renderRecentlyViewed();
                // Attach event listeners to existing static Guru card links
                const guruCardLinks = document.querySelectorAll('#guru-tools-tab .box ul li a');
                guruCardLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        addRecentlyViewed(this.textContent, this.href);
                    });
                });
                // Ensure the recently viewed box is collapsed by default on load
                const recentlyViewedContent = document.getElementById('recently-viewed-content');
                if (recentlyViewedContent) {
                    const recentlyViewedHeader = recentlyViewedContent.previousElementSibling;
                    if (recentlyViewedHeader) {
                        recentlyViewedContent.classList.remove('show');
                        recentlyViewedHeader.querySelector('.toggle-icon').classList.remove('rotated');
                    }
                }
            }
            // --- END Recently Viewed Functions ---

            // --- Quick Notes / Scratchpad Functions ---
            const QUICK_NOTES_KEY = 'guruQuickNotes';

            function saveQuickNotes() {
                const notesInput = document.getElementById('quickNotesInput');
                const statusMessage = document.getElementById('quickNotesStatus');
                try {
                    localStorage.setItem(QUICK_NOTES_KEY, notesInput.value);
                    statusMessage.textContent = 'Notes saved!';
                    statusMessage.style.color = 'green';
                    setTimeout(() => statusMessage.textContent = '', 3000);
                } catch (e) {
                    console.error("Error saving quick notes to localStorage:", e);
                    statusMessage.textContent = 'Error saving notes.';
                    statusMessage.style.color = 'red';
                }
            }

            function loadQuickNotes() {
                const notesInput = document.getElementById('quickNotesInput');
                if (!notesInput) return; // Ensure element exists

                try {
                    const savedNotes = localStorage.getItem(QUICK_NOTES_KEY);
                    if (savedNotes) {
                        notesInput.value = savedNotes;
                    }
                } catch (e) {
                    console.error("Error loading quick notes from localStorage:", e);
                }
            }

            function clearQuickNotes() {
                const notesInput = document.getElementById('quickNotesInput');
                const statusMessage = document.getElementById('quickNotesStatus');
                notesInput.value = '';
                try {
                    localStorage.removeItem(QUICK_NOTES_KEY);
                    statusMessage.textContent = 'Notes cleared!';
                    statusMessage.style.color = 'orange';
                    setTimeout(() => statusMessage.textContent = '', 3000);
                } catch (e) {
                    console.error("Error clearing quick notes from localStorage:", e);
                    statusMessage.textContent = 'Error clearing notes.';
                    statusMessage.style.color = 'red';
                }
            }
            // --- END Quick Notes Functions ---

            // --- Break Reminder Functions (Time-based) ---
            const BREAK_REMINDER_KEY = 'guruBreakReminderTime';
            let breakReminderTimeout = null;
            let synth;

            async function initAudio() {
                if (!synth) {
                    synth = new Tone.Synth().toDestination();
                    // Ensure Tone.start() is called on a user gesture
                    // This is handled by the DOMContentLoaded listener and the first click on the body
                    document.body.addEventListener('click', Tone.start, { once: true });
                }
            }

            function playBreakSound() {
                if (Tone.context.state !== 'running') {
                    Tone.start(); // Attempt to start if not running
                }
                if (synth) {
                    synth.triggerAttackRelease("C4", "8n");
                } else {
                    console.warn("Audio synth not initialized. Cannot play sound.");
                }
            }
            function requestNotificationPermission() {
                if (!("Notification" in window)) {
                    console.warn("This browser does not support desktop notification");
                } else if (Notification.permission === "default") {
                Notification.requestPermission().then(permission => {
                if (permission === "granted") {
                    console.log("Notification permission granted.");
                } else {
                    console.warn("Notification permission denied.");
                }
        });
    }
}
            async function setBreakReminder() {
                await initAudio(); // Ensure audio context is ready
                cancelBreakReminder(); // Clear any existing reminder

                const timeInput = document.getElementById('breakTimeInput');
                const reminderStatus = document.getElementById('breakReminderStatus');
                const selectedTime = timeInput.value;

                if (!selectedTime) {
                    reminderStatus.textContent = 'Please select a time.';
                    return;
                }

                const now = new Date();
                const [hours, minutes] = selectedTime.split(':').map(Number);

                const reminderTime = new Date();
                reminderTime.setHours(hours, minutes, 0, 0);

                // If the reminder time is in the past, set it for the next day
                if (reminderTime.getTime() < now.getTime()) {
                    reminderTime.setDate(reminderTime.getDate() + 1);
                }

                const timeToWait = reminderTime.getTime() - now.getTime();

                if (timeToWait > 0) {
                    reminderStatus.textContent = `Reminder set for ${selectedTime}.`;
                    breakReminderTimeout = setTimeout(() => {
            playBreakSound();
            const breakReminderModal = document.getElementById('breakReminderModal');
            breakReminderModal.style.display = 'block'; // Show the modal
            document.getElementById('breakReminderStatus').textContent = "Break time!";
            // ADD THIS LINE TO SHOW A SYSTEM NOTIFICATION WHEN BREAK TIME COMES
            showNotification("Time for a Break!", "Your break time has arrived."); //
        }, timeToBreak);

                    localStorage.setItem(BREAK_REMINDER_KEY, selectedTime);
                } else {
                    reminderStatus.textContent = 'Invalid time. Please select a future time.';
                }
                // --- NEW: Send System Notification ---
if (Notification.permission === "granted") {
    new Notification("Time for a Break!", {
        body: "Your break is scheduled!",
        icon: "https://placehold.co/32x32/007bff/ffffff?text=G" // Use your favicon or another appropriate icon
    });
} else if (Notification.permission === "default") {
    // If permission was not requested or denied, try to request it again
    requestNotificationPermission();
}
// --- END NEW CODE ---
            }

            function cancelBreakReminder() {
                if (breakReminderTimeout) {
                    clearTimeout(breakReminderTimeout);
                    breakReminderTimeout = null;
                }
                document.getElementById('breakReminderStatus').textContent = 'No reminder set.';
                localStorage.removeItem(BREAK_REMINDER_KEY);
            }

            function showBreakReminderModal() {
                const modal = document.getElementById('breakReminderModal');
                modal.style.display = 'flex';
                setTimeout(() => modal.classList.add('show-modal'), 10);
            }

            function closeBreakReminderModal() {
                const modal = document.getElementById('breakReminderModal');
                modal.classList.remove('show-modal');
                modal.addEventListener('transitionend', function handler() {
                    if (!modal.classList.contains('show-modal')) {
                        modal.style.display = 'none';
                        modal.removeEventListener('transitionend', handler);
                    }
                }, { once: true });
            }

            function loadBreakReminderState() {
                const savedTime = localStorage.getItem(BREAK_REMINDER_KEY);
                const breakTimeInput = document.getElementById('breakTimeInput');
                const breakReminderStatus = document.getElementById('breakReminderStatus');

                if (!breakTimeInput || !breakReminderStatus) return; // Ensure elements exist

                if (savedTime) {
                    breakTimeInput.value = savedTime;
                    const now = new Date();
                    const [hours, minutes] = savedTime.split(':').map(Number);
                    const reminderTime = new Date();
                    reminderTime.setHours(hours, minutes, 0, 0);

                    // If the saved reminder time is still in the future, re-set it
                    if (reminderTime.getTime() > now.getTime()) {
                        setBreakReminder(); // Re-set the timeout
                    } else {
                        // If the saved time is in the past, clear it from storage
                        localStorage.removeItem(BREAK_REMINDER_KEY);
                        breakReminderStatus.textContent = 'No reminder set.';
                    }
                } else {
                    // Set a default time for the input if no reminder is set (e.g., 15 mins from now)
                    const now = new Date();
                    now.setMinutes(now.getMinutes() + 15);
                    const defaultHours = String(now.getHours()).padStart(2, '0');
                    const defaultMinutes = String(now.getMinutes()).padStart(2, '0');
                    breakTimeInput.value = `${defaultHours}:${defaultMinutes}`;
                    breakReminderStatus.textContent = 'No reminder set.';
                }
            }
            // --- END Break Reminder Functions ---

            // --- Accessibility Controls Functions ---
            const FONT_SIZE_KEY = 'guruFontSizeLevel';
            const HIGH_CONTRAST_KEY = 'guruHighContrastEnabled';
            const FONT_SIZE_LEVEL_NAMES = ['Smallest', 'Smaller', 'Normal', 'Larger', 'Largest'];
            let currentFontSizeLevel = 2; // Default to 'Normal'

            function applyFontSize() {
                const root = document.documentElement;
                const basePx = 16;
                const scaleFactors = [0.8, 0.9, 1.0, 1.1, 1.2];
                const calculatedFontSize = basePx * scaleFactors[currentFontSizeLevel];

                root.style.setProperty('--base-font-size', `${calculatedFontSize}px`);
                localStorage.setItem(FONT_SIZE_KEY, currentFontSizeLevel);
                const fontSizeDisplay = document.getElementById('fontSizeDisplay');
                if (fontSizeDisplay) {
                    fontSizeDisplay.textContent = FONT_SIZE_LEVEL_NAMES[currentFontSizeLevel];
                }
            }

            function changeFontSize(delta) {
                currentFontSizeLevel += delta;
                currentFontSizeLevel = Math.max(0, Math.min(FONT_SIZE_LEVEL_NAMES.length - 1, currentFontSizeLevel));
                applyFontSize();
            }

            function toggleHighContrast() {
                document.body.classList.toggle('high-contrast');
                localStorage.setItem(HIGH_CONTRAST_KEY, document.body.classList.contains('high-contrast'));
            }

            function loadAccessibilitySettings() {
                const savedFontSizeLevel = parseInt(localStorage.getItem(FONT_SIZE_KEY));
                if (!isNaN(savedFontSizeLevel) && savedFontSizeLevel >= 0 && savedFontSizeLevel < FONT_SIZE_LEVEL_NAMES.length) {
                    currentFontSizeLevel = savedFontSizeLevel;
                } else {
                    currentFontSizeLevel = 2; // Fallback to normal if invalid
                }
                applyFontSize(); // Apply font size immediately on load

                if (localStorage.getItem(HIGH_CONTRAST_KEY) === 'true') {
                    document.body.classList.add('high-contrast');
                } else {
                    document.body.classList.remove('high-contrast');
                }
            }
            // --- END Accessibility Functions ---
            
            // --- Card of the Day Logic ---
            function setupCardOfTheDay() {
                // You can update this list with any cards you want to feature
                const featuredCards = [
                    { 
                        title: "MED: Serious Cases Handling & Templates", 
                        url: "https://app.getguru.com/card/T6xaMKXc/MED-Serious-Cases-Handling-Templates" 
                    },
                    { 
                        title: "MED: Reimbursement Policy", 
                        url: "https://app.getguru.com/card/idqBpkGT/MED-Reimbursement-Policy" 
                    },
                    { 
                        title: "MED: User's Account Credibility — Investigation Guide 🕵", 
                        url: "https://app.getguru.com/card/TqzdEr5c/MED-Users-Account-Credibility-Investigation-Guide-MED: User's Account Credibility — Investigation Guide 🕵" 
                    },
                    { 
                        title: "MED: CP Cash Offloads & Cash Capability 💸", 
                        url: "https://app.getguru.com/card/iA5M98BT/MED-CP-Cash-Offloads-Cash-Capability-MED: CP Cash Offloads & Cash Capability 💸" 
                    },
                    { 
                        title: "MED: Venue Deduction/Addition Policy", 
                        url: "https://app.getguru.com/card/cjRG9E7i/MED-Venue-DeductionAddition-Policy-MED: Venue Deduction/Addition Policy" 
                    },
                    {
                        title: "MED: Self-Service Cancellation",
                        url: "https://app.getguru.com/card/ckBzr8ki/MED-SelfService-Cancellation"
                    },
                    {
                        title: "MED: Common iPad-Tablet Issues for venues📳",
                        url: "https://app.getguru.com/card/cR4gMKei/MED-Common-iPadTablet-Issues-for-venuesMED: Common iPad-Tablet Issues for venues📳"
                    },
                    {
                        title: "MED: Basic CP Payment Info",
                        url: "https://app.getguru.com/card/TKMX6xMc/MED-Basic-CP-Payment-Info-"
                    },
                    {
                        title: "MED: Accept a Package (Bundles)",
                        url: "https://app.getguru.com/card/ca585oqi/MED-Accept-a-Package-Bundles"
                    },
                    {
                        title: "MED: CP Requests/Contacting Operations",
                        url: "https://app.getguru.com/card/T7eanX5c/MED-CP-RequestsContacting-Operations"
                    },
                    {
                        title: "MED: CP Cash Offloads & Cash Capability 💸",
                        url: "https://app.getguru.com/card/iA5M98BT/MED-CP-Cash-Offloads-Cash-Capability-"
                    },
                    {
                        title: "MED: CP Name Abbreviations — OFB, FR, etc.",
                        url: "https://app.getguru.com/card/cM5Lpa9i/MED-CP-Name-Abbreviations-OFB-FR-etc"
                    },
                    {
                        title: "MED: CP How to Apply & CP referrals — GRC 🇬🇷",
                        url: "https://app.getguru.com/card/TjR6RL6c/MED-CP-How-to-Apply-CP-referrals-GRC-"
                    },
                    {
                        title: "MED: Courier Partner App 101 🚀",
                        url: "https://app.getguru.com/card/iMebngxT/MED-Courier-Partner-App-101-"
                    },
                    {
                        title: "MED: Basic CP Payment Info",
                        url: "https://app.getguru.com/card/TKMX6xMc/MED-Basic-CP-Payment-Info-"
                    },
                    {
                        title: "MED: Verification Code Issue in Wolt Partner app",
                        url: "https://app.getguru.com/card/Tr96jdnc/MED-Verification-Code-Issue-in-Wolt-Partner-app"
                    },
                    {
                        title: "MED: Venue is Closed & Can't Find Venue",
                        url: "https://app.getguru.com/card/T8bG8Mnc/MED-Venue-is-Closed-Cant-Find-Venue"
                    },
                    {
                        title: "MED: Large Order Help — Splitting Feature ✂️",
                        url: "https://app.getguru.com/card/ikAdnaET/MED-Large-Order-Help-Splitting-Feature-"
                    },
                    {
                        title: "MED: CP informs us about the customer's wrong address 📍",
                        url: "https://app.getguru.com/card/cbjxyK7i/MED-CP-informs-us-about-the-customers-wrong-address-"
                    },
                    {
                        title: "MED: CP Requests Area Change",
                        url: "https://app.getguru.com/card/TokBqKgc/MED-CP-Requests-Area-Change"
                    },
                    {
                        title: "MED: FAQ Wolt Gear 🛵",
                        url: "https://app.getguru.com/card/iaA9a6ET/MED-FAQ-Wolt-Gear-"
                    },
                    {
                        title: "MED: Courier can't continue with the task (Vehicle, Battery, Accident)",
                        url: "https://app.getguru.com/card/cxddKjdi/MED-Courier-cant-continue-with-the-task-Vehicle-Battery-Accident-"
                    },
                    {
                        title: "MED: CP Requests Customer's Phone Number/Address - Sharing Customer info",
                        url: "https://app.getguru.com/card/cXA9RaEi/MED-CP-Requests-Customers-Phone-NumberAddress-Sharing-Customer-info"
                    },
                    {
                        title: "MED: CP mix-ups/Bundle Order Mix-up/Order was taken by another CP",
                        url: "https://app.getguru.com/card/TkABzozc/MED-CP-mixupsBundle-Order-MixupOrder-was-taken-by-another-CP"
                    },
                    {
                        title: "MED: Can’t Find Customer🕵",
                        url: "https://app.getguru.com/card/T4pqRpMc/MED-Cant-Find-Customer"
                    },
                    {
                        title: "MED: How to Force Assign an Order",
                        url: "https://app.getguru.com/card/capyr5gi/MED-How-to-Force-Assign-an-Order"
                    },
                    {
                        title: "MED: CP Self-serve Unassigns ❎",
                        url: "https://app.getguru.com/card/capyr5gi/MED-How-to-Force-Assign-an-Order"
                    },
                    {
                        title: "MED: PSR Unassign Task Requests🫰",
                        url: "https://app.getguru.com/card/idXj6RoT/MED-PSR-Unassign-Task-Requests"
                    },
                    {
                        title: "MED: Venues — How to join Wolt",
                        url: "https://app.getguru.com/card/cEGr5noi/MED-Venues-How-to-join-Wolt"
                    },
                    {
                        title: "MED: Venue Reach-Outs 🔊",
                        url: "https://app.getguru.com/card/iA9dxXdT/MED-Venue-ReachOuts-"
                    },
                    {
                        title: "MED: Storefront",
                        url: "https://app.getguru.com/card/cgXd8Gei/MED-Storefront-"
                    },
                    {
                        title: "MED: Large Order Identification feature",
                        url: "https://app.getguru.com/card/TXdXyBdc/MED-Large-Order-Identification-feature"
                    },
                    {
                        title: "MED: StiQ venues (former Tasty Brands) 🍟",
                        url: "https://app.getguru.com/card/Tzbjk8Bc/MED-StiQ-venues-former-Tasty-Brands-"
                    },
                    {
                        title: "MED: Venue contacts us from a User profile",
                        url: "https://app.getguru.com/card/ia5yKxbT/MED-Venue-contacts-us-from-a-User-profile"
                    },
                    {
                        title: "MED: Venue Special Request Issue",
                        url: "https://app.getguru.com/card/c5zdErbi/MED-Venue-Special-Request-Issue"
                    },
                    {
                        title: "MED: Venue — Modify Pick-Up Time request",
                        url: "https://app.getguru.com/card/TrjdgXac/MED-Venue-Modify-PickUp-Time-request"
                    },
                    {
                        title: "MED: Self-Delivery pre-tipping",
                        url: "https://app.getguru.com/card/TR5R8pnc/MED-SelfDelivery-pretipping"
                    },
                    {
                        title: "MED: Venue marks Ready Earlier⌛",
                        url: "https://app.getguru.com/card/TxyArx8c/MED-Venue-marks-Ready-Earlier"
                    },
                    {
                        title: "MED: Venue Credits 💙",
                        url: "https://app.getguru.com/card/TLxqznac/MED-Venue-Credits-"
                    },
                    {
                        title: "MED: Venue Deduction/Addition Policy",
                        url: "https://app.getguru.com/card/cjRG9E7i/MED-Venue-DeductionAddition-Policy-"
                    },
                    {
                        title: "MED: What is Self-delivery?",
                        url: "https://app.getguru.com/card/iGaEg64T/MED-What-is-Selfdelivery"
                    },
                    {
                        title: "MED: Cash Self-delivery: Case Handling Policies and More 💰",
                        url: "https://app.getguru.com/card/iBgybKzT/MED-Cash-Selfdelivery-Case-Handling-Policies-and-More-"
                    },
                    {
                        title: "MED: Pre-paid Self-delivery — Case Handling Policies and Templates 💳",
                        url: "https://app.getguru.com/card/T5p7Apnc/MED-Prepaid-Selfdelivery-Case-Handling-Policies-and-Templates-"
                    },
                    {
                        title: "MED: GRC Pizza Fan Case Handling 🍕",
                        url: "https://app.getguru.com/card/ioAyXBXT/MED-GRC-Pizza-Fan-Case-Handling-"
                    },
                    {
                        title: "MED: McDonald's Greece — Menu changes & contact numbers",
                        url: "https://app.getguru.com/card/i4GepoRT/MED-McDonalds-Greece-Menu-changes-contact-numbers"
                    },
                    {
                        title: "MED: CYP Pizza Hut Numbers List 🍕",
                        url: "https://app.getguru.com/card/TaLrKR8c/MED-CYP-Pizza-Hut-Numbers-List-"
                    },
                    {
                        title: "MED: Domino's Support Communication Channels🍕",
                        url: "https://app.getguru.com/card/TLynG6Mc/MED-Dominos-Support-Communication-Channels"
                    },
                    {
                        title: "MED: Wolt Market-related case handling",
                        url: "https://app.getguru.com/card/TMknyLec/MED-Wolt-Marketrelated-case-handling"
                    },
                    {
                        title: "MED: GRC — KFC Phone Numbers & Level 2 Complaints",
                        url: "https://app.getguru.com/card/TajqkxGc/MED-GRC-KFC-Phone-Numbers-Level-2-Complaints"
                    },
                    {
                        title: "MED: GRC Gregory's Mikrogeymata Case Handling / Γρηγόρης Μικρογεύματα",
                        url: "https://app.getguru.com/card/TR6xxLLc/MED-GRC-Gregorys-Mikrogeymata-Case-Handling-"
                    },
                    {
                        title: "MED: Pre-orders — Time Slot Orders ⏱",
                        url: "https://app.getguru.com/card/cgERnoRi/MED-Preorders-Time-Slot-Orders-"
                    },
                    {
                        title: "MED: POS Integrations / iPadless Venues 📵",
                        url: "https://app.getguru.com/card/Tg579M6c/MED-POS-Integrations-iPadless-Venues-"
                    },
                    {
                        title: "MED: Merchant App Lite (MAL)",
                        url: "https://app.getguru.com/card/cd6anyri/MED-Merchant-App-Lite-MAL"
                    },
                    {
                        title: "MED: Hybrid Delivery Venue Configuration 🔧",
                        url: "https://app.getguru.com/card/T6Byqd8c/MED-Hybrid-Delivery-Venue-Configuration-"
                    },
                    {
                        title: "MED: Weight-based items ⚖️",
                        url: "https://app.getguru.com/card/cz8B8GXi/MED-Weightbased-items-"
                    },
                    {
                        title: "MED: Printer troubleshooting FAQ and templates 🖨",
                        url: "https://app.getguru.com/card/TMnERoec/MED-Printer-troubleshooting-FAQ-and-templates-"
                    },
                    {
                        title: "MED: Common iPad-Tablet Issues for venues📳",
                        url: "https://app.getguru.com/card/cR4gMKei/MED-Common-iPadTablet-Issues-for-venues"
                    },
                    {
                        title: "MED: Picker app / Undelivered & Substitutions 📳",
                        url: "https://app.getguru.com/card/crp48EGi/MED-Picker-app-Undelivered-Substitutions-"
                    },
                    {
                        title: "MED: merchant.wolt.com Access Roles 💻",
                        url: "https://app.getguru.com/card/izpAz5pT/MED-merchantwoltcom-Access-Roles-"
                    },
                    {
                        title: "MED: Venues Payment Questions (GRC 🇬🇷)",
                        url: "https://app.getguru.com/card/TEGqLkqc/MED-Venues-Payment-Questions-GRC-"
                    },
                    {
                        title: "MED: Venues - Pre-orders: How to handle them ⏰",
                        url: "https://app.getguru.com/card/c4pgAB7i/MED-Venues-Preorders-How-to-handle-them-"
                    },
                    {
                        title: "MED: Venue Rating & Venue Credits",
                        url: "https://app.getguru.com/card/TLGgBrMc/MED-Venue-Rating-Venue-Credits"
                    },
                    {
                        title: "MED: Venues — Menu Changes",
                        url: "https://app.getguru.com/card/iM5Gz9xT/MED-Venues-Menu-Changes-"
                    },
                    {
                        title: "MED: Venues — How to Unlock the iPad/ Devices",
                        url: "https://app.getguru.com/card/iX4gMqrT/MED-Venues-How-to-Unlock-the-iPad-Devices"
                    },
                    {
                        title: "MED: Wolt Drive Basic Info — How to find a WD order",
                        url: "https://app.getguru.com/card/TGgXARrc/MED-Wolt-Drive-Basic-Info-How-to-find-a-WD-order"
                    },
                    {
                        title: "MED: Wolt Drive Case Handling",
                        url: "https://app.getguru.com/card/i48e7xjT/MED-Wolt-Drive-Case-Handling"
                    },
                    {
                        title: "MED: Wolt Drive Special Cases",
                        url: "https://app.getguru.com/card/TMbr4RBc/MED-Wolt-Drive-Special-Cases"
                    },
                    {
                        title: "MED: Wolt Drive Venue Deduction Fees",
                        url: "https://app.getguru.com/card/ieBxr9oT/MED-Wolt-Drive-Venue-Deduction-Fees"
                    },
                    {
                        title: "MED: Wolt Drive For Courier Partners",
                        url: "https://app.getguru.com/card/c9AGX8di/MED-Wolt-Drive-For-Courier-Partners-"
                    },
                    {
                        title: "MED: Wolt Drive Cash 💸",
                        url: "https://app.getguru.com/card/crBg97Ai/MED-Wolt-Drive-Cash-"
                    },
                    {
                        title: "MED: GRC Kotsovolos/Wolt Drive — Kotsovolos Contact Info & Case Handling",
                        url: "https://app.getguru.com/card/cXzA5RRi/MED-GRC-KotsovolosWolt-Drive-Kotsovolos-Contact-Info-Case-Handling"
                    },
                    {
                        title: "MED: Customer does not have enough cash to pay",
                        url: "https://app.getguru.com/card/iGajpdAT/MED-Customer-does-not-have-enough-cash-to-pay"
                    },
                    {
                        title: "MED: Customer asks for phone support due to health issues/disability",
                        url: "https://app.getguru.com/card/cqBKREbi/MED-Customer-asks-for-phone-support-due-to-health-issuesdisability"
                    },
                    {
                        title: "MED: Serious Food Quality Cases (Including food poisoning, raw food reports, allergic reactions, rotten)",
                        url: "https://app.getguru.com/card/cKMo5Bki/MED-Serious-Food-Quality-Cases-Including-food-poisoning-raw-food-reports-allergic-reactions-rotten"
                    },
                    {
                        title: "MED: CYP — PHC, Case Handling & Communication",
                        url: "https://app.getguru.com/card/cB5XpkRi/MED-CYP-PHC-Case-Handling-Communication"
                    },
                    {
                        title: "MED: Someone is using my card without my Consent",
                        url: "https://app.getguru.com/card/inAKkKKT/MED-Someone-is-using-my-card-without-my-Consent-"
                    },
                    {
                        title: "MED: User's Account Credibility — Investigation Guide 🕵",
                        url: "https://app.getguru.com/card/TqzdEr5c/MED-Users-Account-Credibility-Investigation-Guide-"
                    },
                    {
                        title: "MED: Serious Cases Handling & Templates",
                        url: "https://app.getguru.com/card/T6xaMKXc/MED-Serious-Cases-Handling-Templates"
                    },
                    {
                        title: "MED Trust & Safety tags​",
                        url: "https://app.getguru.com/card/ioXzyxLT/MED-Trust-Safety-tags"
                    },
                    {
                        title: "MED: Converse User & Conversation Notes 📒",
                        url: "https://app.getguru.com/card/Tdzq9pyc/MED-Converse-User-Conversation-Notes-"
                    },
                    {
                        title: "MED: Service Fee & Templates",
                        url: "https://app.getguru.com/card/cE5gxjLi/MED-Service-Fee-Templates"
                    },
                    {
                        title: "MED: Marketing Campaign Issues & Error Codes",
                        url: "https://app.getguru.com/card/iMn5eagT/MED-Marketing-Campaign-Issues-Error-Codes"
                    },
                    {
                        title: "MED: In-app Minigame (Former Token prize & change to Credits) 🪙",
                        url: "https://app.getguru.com/card/TxbLXbAc/MED-Inapp-Minigame-Former-Token-prize-change-to-Credits-"
                    },
                    {
                        title: "MED: Wolt+ Subscription",
                        url: "https://app.getguru.com/card/cB5dxnRi/MED-Wolt-Subscription-"
                    },
                    {
                        title: "https://app.getguru.com/card/cB5dxnRi/MED-Wolt-Subscription-",
                        url: "https://app.getguru.com/card/TAabqMnc/MED-Group-Order-Basics"
                    },
                    {
                        title: "MED: Wolt Rewards/Wolt Points 🎁",
                        url: "https://app.getguru.com/card/T5oKX5qc/MED-Wolt-RewardsWolt-Points-"
                    },
                    {
                        title: "MED: Wolt for Work 👷",
                        url: "https://app.getguru.com/card/iyxnGALT/MED-Wolt-for-Work-"
                    },
                    {
                        title: "MED: Wolt Capital",
                        url: "https://app.getguru.com/card/cR5EAaGi/MED-Wolt-Capital"
                    },
                    {
                        title: "MED: Wolt+ x Partnerships",
                        url: "https://app.getguru.com/card/cMzroARi/MED-Wolt-x-Partnerships"
                    },
                    {
                        title: "MED: Delivery Fees, Minimum Baskets & Templates 🛵",
                        url: "https://app.getguru.com/card/cyr4dEXi/MED-Delivery-Fees-Minimum-Baskets-Templates-"
                    },
                    {
                        title: "MED: User wants their Wolt data — GDPR Request",
                        url: "https://app.getguru.com/card/TGxgnL7c/MED-User-wants-their-Wolt-data-GDPR-Request"
                    },
                    {
                        title: "MED: CP Requests Customer's Phone Number/Address - Sharing Customer info",
                        url: "https://app.getguru.com/card/cXA9RaEi/MED-CP-Requests-Customers-Phone-NumberAddress-Sharing-Customer-info"
                    },
                    {
                        title: "MED: User didn't receive the Verification Code ✉",
                        url: "https://app.getguru.com/card/TR4Mpn8c/MED-User-didnt-receive-the-Verification-Code-"
                    },
                    {
                        title: "MED: User e-mail change📬",
                        url: "https://app.getguru.com/card/i74jezoT/MED-User-email-change"
                    },
                    {
                        title: "MED: Customer cannot log in to their account/can't log in to their e-mail 📫",
                        url: "https://app.getguru.com/card/TxpKxdnc/MED-Customer-cannot-log-in-to-their-accountcant-log-in-to-their-email-"
                    },
                    {
                        title: "MED: User's Phone Number Already in Use 📞",
                        url: "https://app.getguru.com/card/TrpqRMdc/MED-Users-Phone-Number-Already-in-Use-"
                    },
                    {
                        title: "MED: Phone Number Change📞",
                        url: "https://app.getguru.com/card/i64qrKET/MED-Phone-Number-Change"
                    },
                    {
                        title: "MED: User wants to delete their account ❌",
                        url: "https://app.getguru.com/card/Tn8y6yRc/MED-User-wants-to-delete-their-account-"
                    },
                    {
                        title: "MED: Self-Service Cancellation",
                        url: "https://app.getguru.com/card/ckBzr8ki/MED-SelfService-Cancellation"
                    },
                    {
                        title: "MED: User account is disabled — Chargeback",
                        url: "https://app.getguru.com/card/ToAaqjrc/MED-User-account-is-disabled-Chargeback"
                    },
                    {
                        title: "MED: User Data Security — User not successfully signed in",
                        url: "https://app.getguru.com/card/TyBLzAoc/MED-User-Data-Security-User-not-successfully-signed-in"
                    },
                    {
                        title: "MED: Cancellation Policy — Customer wants to cancel an order 🥸",
                        url: "https://app.getguru.com/card/Txd8b4Kc/MED-Customers-address-changeChange-delivery-address"
                    },
                    {
                        title: "MED: Customer's address change📍Change delivery address",
                        url: "https://app.getguru.com/card/Txd8b4Kc/MED-Customers-address-changeChange-delivery-address"
                    },
                    {
                        title: "MED: Minor Quality Issues",
                        url: "https://app.getguru.com/card/TBG6ggec/MED-Minor-Quality-Issues"
                    },
                    {
                        title: "MED: Modify Order/Adding items to an order",
                        url: "https://app.getguru.com/card/c9pypg9i/MED-Modify-OrderAdding-items-to-an-order"
                    },
                    {
                        title: "MED: Customer asks for cigarettes from our CP & Tobacco products fee in GRC",
                        url: "https://app.getguru.com/card/TXzjLA8c/MED-Customer-asks-for-cigarettes-from-our-CP-Tobacco-products-fee-in-GRC"
                    },
                    {
                        title: "MED: In-app Tipping — Pre- & Post-Purchase",
                        url: "https://app.getguru.com/card/igB6oA9T/MED-Inapp-Tipping-Pre-PostPurchase"
                    },
                    {
                        title: "MED: Order Mix-Up",
                        url: "https://app.getguru.com/card/iA5o7GXT/MED-Order-MixUp-"
                    },
                    {
                        title: "MED: Delivery Late Case Handling",
                        url: "https://app.getguru.com/card/iG5q5pRT/MED-Delivery-Late-Case-Handling"
                    },
                    {
                        title: "MED: Takeaway order cases",
                        url: "https://app.getguru.com/card/iG8Az8xT/MED-Takeaway-order-cases"
                    },
                    {
                        title: "MED: Change Delivery Type/Customer Pick-up🛍",
                        url: "https://app.getguru.com/card/i9byKrjT/MED-Change-Delivery-TypeCustomer-Pickup"
                    },
                    {
                        title: "MED: Undelivered Order (didn't get order case) 🕵",
                        url: "https://app.getguru.com/card/TzbxgKMc/MED-Undelivered-Order-didnt-get-order-case-"
                    },
                    {
                        title: "MED: Priority Delivery",
                        url: "https://app.getguru.com/card/cGzg77Ei/MED-Priority-Delivery"
                    },
                    {
                        title: "MED: Global Product Recall",
                        url: "https://app.getguru.com/card/T5M48d8c/MED-Global-Product-Recall"
                    },
                    {
                        title: "MED: OTC (Over the Counter) Pharmacy Products (Depon, Panadol, etc.)💊",
                        url: "https://app.getguru.com/card/TGqejbqc/MED-OTC-Over-the-Counter-Pharmacy-Products-Depon-Panadol-etc"
                    },
                    {
                        title: "MED: Gift Card guide & KYC check",
                        url: "https://app.getguru.com/card/Tbd5yjdc/MED-Gift-Card-guide-KYC-check"
                    },
                    {
                        title: "MED: Age-Restricted Delivery​",
                        url: "https://app.getguru.com/card/cGeq45Gi/MED-AgeRestricted-Delivery"
                    },
                    {
                        title: "MED: Undelivered Order (didn't get order case) 🕵",
                        url: "https://app.getguru.com/card/TzbxgKMc/MED-Undelivered-Order-didnt-get-order-case-"
                    },
                    {
                        title: "MED: Unresponsive Venue & CP Case Handling",
                        url: "https://app.getguru.com/card/TeAd8Gkc/MED-Unresponsive-Venue-CP-Case-Handling"
                    },
                    {
                        title: "MED: Delivery Damage & Refund Policy",
                        url: "https://app.getguru.com/card/cqpdgyqi/MED-Delivery-Damage-Refund-Policy"
                    },
                    {
                        title: "MED: Foreign Object in Food 🧐",
                        url: "https://app.getguru.com/card/iBzqrp8T/MED-Foreign-Object-in-Food-"
                    },
                    {
                        title: "MED: Wrong Items 🔍",
                        url: "https://app.getguru.com/card/c7M4Ma7i/MED-Wrong-Items-"
                    },
                    {
                        title: "MED: Missing Items 🔍",
                        url: "https://app.getguru.com/card/crpLMyki/MED-Missing-Items-"
                    },
                    {
                        title: "MED: Bad Packaging — customer complaint",
                        url: "https://app.getguru.com/card/iLRrr6GT/MED-Bad-Packaging-customer-complaint"
                    },
                    {
                        title: "MED: Item Return — Retail Orders / Replacement",
                        url: "https://app.getguru.com/card/cjAoxeAi/MED-Item-Return-Retail-Orders-Replacement"
                    },
                    {
                        title: "MED: Integrated Guidelines & Policies tool (IGP) 🧮",
                        url: "https://app.getguru.com/card/ck9b6G4i/MED-Integrated-Guidelines-Policies-tool-IGP-"
                    },
                    {
                        title: "MED: In-app Tipping — Pre- & Post-Purchase",
                        url: "https://app.getguru.com/card/igB6oA9T/MED-Inapp-Tipping-Pre-PostPurchase"
                    },
                    {
                        title: "MED: Wolt Credits, Referral, and Promo codes & Promo Fraud 🫰",
                        url: "https://app.getguru.com/card/cKngpKbi/MED-Wolt-Credits-Referral-and-Promo-codes-Promo-Fraud-"
                    },
                    {
                        title: "MED: Receipts and Invoices🧾",
                        url: "https://app.getguru.com/card/TA4Bdp8c/MED-Receipts-and-Invoices"
                    },
                    {
                        title: "MED: How to change Credits into Card Refund",
                        url: "https://app.getguru.com/card/ckMyLK5i/MED-How-to-change-Credits-into-Card-Refund"
                    },
                    {
                        title: "MED: Payment Methods 💳",
                        url: "https://app.getguru.com/card/T4p9e8Mc/MED-Payment-Methods-"
                    },
                    {
                        title: "MED: How to Pay in Cash 💸 — for users",
                        url: "https://app.getguru.com/card/T74rqopc/MED-How-to-Pay-in-Cash-for-users"
                    },
                    {
                        title: "MED: Card Payment Failures & Fraud",
                        url: "https://app.getguru.com/card/ckq8dA4i/MED-Card-Payment-Failures-Fraud"
                    },
                    {
                        title: "MED: Customer Essentials & Usual Replies (Templates)",
                        url: "https://app.getguru.com/card/ieM59MLT/MED-Customer-Essentials-Usual-Replies-Templates"
                    },
                    {
                        title: "MED: Rejections - Cash Payment",
                        url: "https://app.getguru.com/card/ir5nLogT/MED-Rejections-Cash-Payment"
                    },
                    {
                        title: "MED: Rejections - Card Payment",
                        url: "https://app.getguru.com/card/ijaGojET/MED-Rejections-Card-Payment"
                    },
                    {
                        title: "MED: Customer App & Account 101 🛍",
                        url: "https://app.getguru.com/card/cXgj6qni/MED-Customer-App-Account-101-"
                    },
                    {
                        title: "MED: Reimbursement Policy",
                        url: "https://app.getguru.com/card/idqBpkGT/MED-Reimbursement-Policy"
                    },
                    {
                        title: "MED: Customer wants a refund in cash 💸",
                        url: "https://app.getguru.com/card/T4pbbk6c/MED-Customer-wants-a-refund-in-cash-"
                    }

                ];

                // Select a random card from the list
                const cardIndex = Math.floor(Math.random() * featuredCards.length);
                const card = featuredCards[cardIndex];

                const linkElement = document.getElementById('cardOfTheDayLink');
                if (linkElement) {
                    linkElement.href = card.url;
                    linkElement.textContent = card.title;
                }
                
                // Also change the title from "Card of the Day" to "Featured Card"
                const titleElement = document.querySelector('#cardOfTheDay h3');
                if (titleElement) {
                    titleElement.innerHTML = '🌟 Featured Card';
                }
            }
            // --- END Card of the Day Logic ---

            // --- Tab Switching Logic ---
            function showTab(tabId) {
                // Deactivate all tab buttons
                document.querySelectorAll('.tab-button').forEach(button => {
                    button.classList.remove('active');
                });

                // Hide all tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });

                // Activate the clicked tab button
                const activeTabButton = document.querySelector(`.tab-button[data-tab-id="${tabId}"]`);
                if (activeTabButton) {
                    activeTabButton.classList.add('active');
                }

                // Show the corresponding tab content
                const activeTabContent = document.getElementById(tabId);
                if (activeTabContent) {
                    activeTabContent.classList.add('active');
                }

                // Special handling for map tab: invalidate size to render correctly
                if (tabId === 'map-tools-tab') {
                    // Ensure map is initialized if it's the first time this tab is opened
                    if (!map) {
                        initMap();
                    }
                    // Always invalidate size when the map tab becomes active
                    // Increased delay slightly to ensure tab content is fully rendered
                    setTimeout(() => {
                        if (map) { // Ensure map object exists before calling invalidateSize
                            map.invalidateSize();
                            console.log('Map invalidateSize called for tab:', tabId); // Debugging log
                            // Optionally re-center map if needed after invalidateSize
                            // map.setView(ATHENS_CENTER, map.getZoom());
                        } else {
                            console.error('Map object is null, cannot invalidateSize.');
                        }
                    }, 150); 
                }

                // Collapse all collapsible boxes within the newly active tab, excluding map-section
                // No need to exclude map-section as it's no longer collapsible
                toggleAllCollapsible(false);
            }
            // --- END Tab Switching Logic ---

            // --- Event Listeners and Initialization on DOMContentLoaded ---
            document.addEventListener('DOMContentLoaded', () => {
                // --- NEW: Request Notification Permission on load ---
                requestNotificationPermission();
                // --- END NEW CODE ---
                // Load settings first
                loadDarkModeSetting();
                loadAccessibilitySettings();
                
                // Set up Card of the Day
                setupCardOfTheDay();

                // Initialize Recently Viewed for Guru Tools tab
                initRecentlyViewed(); 
                // Load quick notes for Utilities tab
                loadQuickNotes(); 
                // Load break reminder for Utilities tab
                loadBreakReminderState();

                // Set up tab buttons
                document.querySelectorAll('.tab-button').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const tabId = event.target.dataset.tabId;
                        showTab(tabId);
                    });
                });

                // Set default tab to Guru Tools on load
                showTab('guru-tools-tab');

                // Global Utility Buttons
                document.getElementById('toggleDarkModeBtn').addEventListener('click', toggleDarkMode);
                document.getElementById('helpIconBtn').addEventListener('click', openModal);
                document.getElementById('accessibilityTabBtn').addEventListener('click', () => showTab('accessibility-tab'));

                // Info Modal Close Buttons
                document.getElementById('closeInfoModalBtn').addEventListener('click', closeModal);
                // Close modal when clicking outside content
                document.getElementById('infoModal').addEventListener('click', (event) => {
                    if (event.target === document.getElementById('infoModal')) {
                        closeModal();
                    }
                });

                // Collapsible Box Headers (using event delegation for efficiency)
                document.querySelectorAll('.box h3').forEach(header => {
                    header.addEventListener('click', function() {
                        toggleCollapsible(this);
                    });
                });

                // Guru Tools Tab Controls
                document.getElementById('searchBar').addEventListener('keyup', filterLinksDebounced);
                document.getElementById('expandAllBtn').addEventListener('click', () => toggleAllCollapsible(true));
                document.getElementById('collapseAllBtn').addEventListener('click', () => toggleAllCollapsible(false));
                document.getElementById('gleanSearchBtn').addEventListener('click', openSearch);
                
                // Recently Viewed
                document.getElementById('clearRecentlyViewedBtn').addEventListener('click', clearRecentlyViewed);

                // Map Tools Tab Controls
                document.getElementById('clearMapMarkersBtn').addEventListener('click', clearMapMarkers);

                // Utilities Tab Controls
                document.getElementById('calculateCpCompensationBtn').addEventListener('click', calculateCpCompensation);
                document.getElementById('saveQuickNotesBtn').addEventListener('click', saveQuickNotes);
                document.getElementById('clearQuickNotesBtn').addEventListener('click', clearQuickNotes);
                document.getElementById('setBreakReminderBtn').addEventListener('click', setBreakReminder);
                document.getElementById('cancelBreakReminderBtn').addEventListener('click', cancelBreakReminder);

                // Break Reminder Modal Controls
                document.getElementById('closeBreakReminderModalBtn').addEventListener('click', closeBreakReminderModal);
                document.getElementById('dismissBreakReminderBtn').addEventListener('click', closeBreakReminderModal);

                // Accessibility Tab Controls
                document.getElementById('decreaseFontSizeBtn').addEventListener('click', () => changeFontSize(-1));
                document.getElementById('increaseFontSizeBtn').addEventListener('click', () => changeFontSize(1));
                document.getElementById('toggleHighContrastBtn').addEventListener('click', toggleHighContrast);
            });

        })(); 
    </script>
</body>
</html>

